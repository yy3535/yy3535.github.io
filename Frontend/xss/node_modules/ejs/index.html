<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>EJS | yy3535</title>
    <meta name="description" content="yy3535的笔记">
    <link rel="icon" href="/img/favicon.ico">
    
    <link rel="preload" href="/assets/css/0.styles.255eb453.css" as="style"><link rel="preload" href="/assets/js/app.bbf0b81e.js" as="script"><link rel="preload" href="/assets/js/56.5c0ec703.js" as="script"><link rel="prefetch" href="/assets/js/10.3551ea3b.js"><link rel="prefetch" href="/assets/js/100.290d38ed.js"><link rel="prefetch" href="/assets/js/101.02ec982f.js"><link rel="prefetch" href="/assets/js/102.4ed30b0b.js"><link rel="prefetch" href="/assets/js/103.6683b3be.js"><link rel="prefetch" href="/assets/js/104.0cad35d7.js"><link rel="prefetch" href="/assets/js/105.514baadf.js"><link rel="prefetch" href="/assets/js/106.fb305841.js"><link rel="prefetch" href="/assets/js/107.6d732b00.js"><link rel="prefetch" href="/assets/js/108.e975181f.js"><link rel="prefetch" href="/assets/js/109.bf72077a.js"><link rel="prefetch" href="/assets/js/11.5b35ccbd.js"><link rel="prefetch" href="/assets/js/110.f1e03dfc.js"><link rel="prefetch" href="/assets/js/111.df66dde6.js"><link rel="prefetch" href="/assets/js/112.b01fb926.js"><link rel="prefetch" href="/assets/js/113.e80fe72e.js"><link rel="prefetch" href="/assets/js/114.78e2f38e.js"><link rel="prefetch" href="/assets/js/115.e975f963.js"><link rel="prefetch" href="/assets/js/116.c827c27c.js"><link rel="prefetch" href="/assets/js/117.836bf57f.js"><link rel="prefetch" href="/assets/js/118.7ab51fa1.js"><link rel="prefetch" href="/assets/js/119.73181fb9.js"><link rel="prefetch" href="/assets/js/12.5fe9af66.js"><link rel="prefetch" href="/assets/js/120.007b8823.js"><link rel="prefetch" href="/assets/js/121.b82621d3.js"><link rel="prefetch" href="/assets/js/122.27e00f2e.js"><link rel="prefetch" href="/assets/js/123.1d7023c8.js"><link rel="prefetch" href="/assets/js/124.ee375ce6.js"><link rel="prefetch" href="/assets/js/125.b7f6105a.js"><link rel="prefetch" href="/assets/js/126.20e15310.js"><link rel="prefetch" href="/assets/js/127.b7d4b56e.js"><link rel="prefetch" href="/assets/js/128.a95e5ee9.js"><link rel="prefetch" href="/assets/js/129.3846a3d9.js"><link rel="prefetch" href="/assets/js/13.59d5e127.js"><link rel="prefetch" href="/assets/js/130.3db9e499.js"><link rel="prefetch" href="/assets/js/131.eaae4a03.js"><link rel="prefetch" href="/assets/js/132.16a3d60b.js"><link rel="prefetch" href="/assets/js/14.28bcf4e3.js"><link rel="prefetch" href="/assets/js/15.84ae2a20.js"><link rel="prefetch" href="/assets/js/16.fd0526a9.js"><link rel="prefetch" href="/assets/js/17.365e8112.js"><link rel="prefetch" href="/assets/js/18.6ae6032f.js"><link rel="prefetch" href="/assets/js/19.6078860c.js"><link rel="prefetch" href="/assets/js/2.94400111.js"><link rel="prefetch" href="/assets/js/20.65be3b85.js"><link rel="prefetch" href="/assets/js/21.4f0ffc0d.js"><link rel="prefetch" href="/assets/js/22.f9c58c2e.js"><link rel="prefetch" href="/assets/js/23.ffee5e53.js"><link rel="prefetch" href="/assets/js/24.ed4ef3c4.js"><link rel="prefetch" href="/assets/js/25.9ab68742.js"><link rel="prefetch" href="/assets/js/26.f72dbfd6.js"><link rel="prefetch" href="/assets/js/27.ee401a05.js"><link rel="prefetch" href="/assets/js/28.827191e3.js"><link rel="prefetch" href="/assets/js/29.43e6cb24.js"><link rel="prefetch" href="/assets/js/3.9cac342c.js"><link rel="prefetch" href="/assets/js/30.70e8b99e.js"><link rel="prefetch" href="/assets/js/31.e631a50e.js"><link rel="prefetch" href="/assets/js/32.e5228b4a.js"><link rel="prefetch" href="/assets/js/33.10530a83.js"><link rel="prefetch" href="/assets/js/34.0f04744a.js"><link rel="prefetch" href="/assets/js/35.629c316d.js"><link rel="prefetch" href="/assets/js/36.aeb889b1.js"><link rel="prefetch" href="/assets/js/37.4c4f5a94.js"><link rel="prefetch" href="/assets/js/38.f6885cdd.js"><link rel="prefetch" href="/assets/js/39.4f27df9c.js"><link rel="prefetch" href="/assets/js/4.d468227f.js"><link rel="prefetch" href="/assets/js/40.00092941.js"><link rel="prefetch" href="/assets/js/41.2872c9dd.js"><link rel="prefetch" href="/assets/js/42.3a5e2bd6.js"><link rel="prefetch" href="/assets/js/43.cd66f038.js"><link rel="prefetch" href="/assets/js/44.8beb9bcf.js"><link rel="prefetch" href="/assets/js/45.beb1db04.js"><link rel="prefetch" href="/assets/js/46.23be8a39.js"><link rel="prefetch" href="/assets/js/47.028997b9.js"><link rel="prefetch" href="/assets/js/48.03929eb1.js"><link rel="prefetch" href="/assets/js/49.101661ca.js"><link rel="prefetch" href="/assets/js/5.12bb574a.js"><link rel="prefetch" href="/assets/js/50.02c9605b.js"><link rel="prefetch" href="/assets/js/51.88f117a7.js"><link rel="prefetch" href="/assets/js/52.4e802bdd.js"><link rel="prefetch" href="/assets/js/53.578aef81.js"><link rel="prefetch" href="/assets/js/54.f9bdda7c.js"><link rel="prefetch" href="/assets/js/55.37f65b9b.js"><link rel="prefetch" href="/assets/js/57.ff2d13a0.js"><link rel="prefetch" href="/assets/js/58.34a2757c.js"><link rel="prefetch" href="/assets/js/59.1241b062.js"><link rel="prefetch" href="/assets/js/6.51ddef8f.js"><link rel="prefetch" href="/assets/js/60.c7448344.js"><link rel="prefetch" href="/assets/js/61.d9859c57.js"><link rel="prefetch" href="/assets/js/62.cda368c0.js"><link rel="prefetch" href="/assets/js/63.3bf0d9ad.js"><link rel="prefetch" href="/assets/js/64.b5058830.js"><link rel="prefetch" href="/assets/js/65.029fa56f.js"><link rel="prefetch" href="/assets/js/66.74a02de8.js"><link rel="prefetch" href="/assets/js/67.6bd8be41.js"><link rel="prefetch" href="/assets/js/68.dc82534d.js"><link rel="prefetch" href="/assets/js/69.8c53b71a.js"><link rel="prefetch" href="/assets/js/7.ed50c3ed.js"><link rel="prefetch" href="/assets/js/70.ebeec8af.js"><link rel="prefetch" href="/assets/js/71.39fdb27d.js"><link rel="prefetch" href="/assets/js/72.9fb2337b.js"><link rel="prefetch" href="/assets/js/73.966339a9.js"><link rel="prefetch" href="/assets/js/74.955bf6ad.js"><link rel="prefetch" href="/assets/js/75.28494b53.js"><link rel="prefetch" href="/assets/js/76.82dfd03e.js"><link rel="prefetch" href="/assets/js/77.e7913430.js"><link rel="prefetch" href="/assets/js/78.e90b61e0.js"><link rel="prefetch" href="/assets/js/79.c43e02ef.js"><link rel="prefetch" href="/assets/js/8.d8d2998d.js"><link rel="prefetch" href="/assets/js/80.20b693d2.js"><link rel="prefetch" href="/assets/js/81.e754e0eb.js"><link rel="prefetch" href="/assets/js/82.33216298.js"><link rel="prefetch" href="/assets/js/83.0dbe4623.js"><link rel="prefetch" href="/assets/js/84.b6f2f753.js"><link rel="prefetch" href="/assets/js/85.64765a55.js"><link rel="prefetch" href="/assets/js/86.ffeb96f6.js"><link rel="prefetch" href="/assets/js/87.d40b4cbd.js"><link rel="prefetch" href="/assets/js/88.c01ac2a8.js"><link rel="prefetch" href="/assets/js/89.a4f06f36.js"><link rel="prefetch" href="/assets/js/9.2eb0212e.js"><link rel="prefetch" href="/assets/js/90.371aa30e.js"><link rel="prefetch" href="/assets/js/91.00df6a25.js"><link rel="prefetch" href="/assets/js/92.aaaa4d28.js"><link rel="prefetch" href="/assets/js/93.3cccb5d0.js"><link rel="prefetch" href="/assets/js/94.02e64e8a.js"><link rel="prefetch" href="/assets/js/95.0fc399dd.js"><link rel="prefetch" href="/assets/js/96.41eb0481.js"><link rel="prefetch" href="/assets/js/97.c53beb93.js"><link rel="prefetch" href="/assets/js/98.4d8a1c6c.js"><link rel="prefetch" href="/assets/js/99.61d3b6f2.js">
    <link rel="stylesheet" href="/assets/css/0.styles.255eb453.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/img/logo.jpg" alt="yy3535" class="logo"> <span class="site-name can-hide">yy3535</span></a> <div class="links" style="max-width:nullpx;"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/Frontend/" class="nav-link router-link-active">前端</a></div><div class="nav-item"><a href="/Backend/" class="nav-link">后端</a></div><div class="nav-item"><a href="/Operation/" class="nav-link">运维</a></div><div class="nav-item"><a href="/Todo/" class="nav-link">待整理</a></div><div class="nav-item"><a href="https://github.com/yy3535/yy3535" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <div class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/Frontend/" class="nav-link router-link-active">前端</a></div><div class="nav-item"><a href="/Backend/" class="nav-link">后端</a></div><div class="nav-item"><a href="/Operation/" class="nav-link">运维</a></div><div class="nav-item"><a href="/Todo/" class="nav-link">待整理</a></div><div class="nav-item"><a href="https://github.com/yy3535/yy3535" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav>  <ul class="sidebar-links"><li><div class="sidebar-group first"><p class="sidebar-heading open"><span>js</span> <!----></p> <ul class="sidebar-group-items"><li><a href="/Frontend/js/jsbasic/" class="sidebar-link">01-JS基础知识</a></li><li><a href="/Frontend/js/jsbasic/zepto.html" class="sidebar-link">zepto源码解读</a></li><li><a href="/Frontend/js/jsbasic/shenrubibao.html" class="sidebar-link">深入理解javascript原型链和闭包</a></li><li><a href="/Frontend/js/jswebapi/" class="sidebar-link">02-JS-WEB-API</a></li><li><a href="/Frontend/js/devenv/" class="sidebar-link">03-开发环境</a></li><li><a href="/Frontend/js/runenv/" class="sidebar-link">04-运行环境</a></li><li><a href="/Frontend/js/es6/" class="sidebar-link">ES6</a></li><li><a href="/Frontend/js/designpatterns/" class="sidebar-link">前端设计模式</a></li></ul></div></li><li><div class="sidebar-group"><p class="sidebar-heading"><span>css</span> <!----></p> <ul class="sidebar-group-items"><li><a href="/Frontend/css.html" class="sidebar-link">css</a></li></ul></div></li><li><div class="sidebar-group"><p class="sidebar-heading"><span>vue</span> <!----></p> <ul class="sidebar-group-items"><li><a href="/Frontend/vue.html" class="sidebar-link">vue</a></li></ul></div></li><li><div class="sidebar-group"><p class="sidebar-heading"><span>webpack</span> <!----></p> <ul class="sidebar-group-items"><li><a href="/Frontend/webpack.html" class="sidebar-link">webpack</a></li></ul></div></li><li><div class="sidebar-group"><p class="sidebar-heading"><span>前端跳槽面试必备技巧</span> <!----></p> <ul class="sidebar-group-items"><li><a href="/Frontend/viewskills.html" class="sidebar-link">前端跳槽面试必备技巧</a></li></ul></div></li><li><div class="sidebar-group"><p class="sidebar-heading"><span>小工具</span> <!----></p> <ul class="sidebar-group-items"><li><a href="/Frontend/vuepress.html" class="sidebar-link">vuepress</a></li><li><a href="/Frontend/markdown.html" class="sidebar-link">markdown</a></li></ul></div></li></ul> </div> <div class="page"> <div class="content"><h1 id="ejs"><a href="#ejs" aria-hidden="true" class="header-anchor">#</a> EJS</h1> <p>Embedded JavaScript templates</p> <p><a href="https://travis-ci.org/mde/ejs" target="_blank" rel="noopener noreferrer"><img src="https://img.shields.io/travis/mde/ejs/master.svg?style=flat" alt="Build Status"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> <a href="https://david-dm.org/mde/ejs?type=dev" target="_blank" rel="noopener noreferrer"><img src="https://img.shields.io/david/dev/mde/ejs.svg?style=flat" alt="Developing Dependencies"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> <a href="https://snyk.io/test/npm/ejs" target="_blank" rel="noopener noreferrer"><img src="https://snyk.io/test/npm/ejs/badge.svg?style=flat-square" alt="Known Vulnerabilities"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <h2 id="installation"><a href="#installation" aria-hidden="true" class="header-anchor">#</a> Installation</h2> <div class="language-bash extra-class"><pre class="language-bash"><code>$ <span class="token function">npm</span> <span class="token function">install</span> ejs
</code></pre></div><h2 id="features"><a href="#features" aria-hidden="true" class="header-anchor">#</a> Features</h2> <ul><li>Control flow with <code>&lt;% %&gt;</code></li> <li>Escaped output with <code>&lt;%= %&gt;</code> (escape function configurable)</li> <li>Unescaped raw output with <code>&lt;%- %&gt;</code></li> <li>Newline-trim mode ('newline slurping') with <code>-%&gt;</code> ending tag</li> <li>Whitespace-trim mode (slurp all whitespace) for control flow with <code>&lt;%_ _%&gt;</code></li> <li>Custom delimiters (e.g., use <code>&lt;? ?&gt;</code> instead of <code>&lt;% %&gt;</code>)</li> <li>Includes</li> <li>Client-side support</li> <li>Static caching of intermediate JavaScript</li> <li>Static caching of templates</li> <li>Complies with the <a href="http://expressjs.com" target="_blank" rel="noopener noreferrer">Express<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> view system</li></ul> <h2 id="example"><a href="#example" aria-hidden="true" class="header-anchor">#</a> Example</h2> <div class="language-html extra-class"><pre class="language-html"><code>&lt;% if (user) { %&gt;
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h2</span><span class="token punctuation">&gt;</span></span>&lt;%= user.name %&gt;<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h2</span><span class="token punctuation">&gt;</span></span>
&lt;% } %&gt;
</code></pre></div><p>Try EJS online at: https://ionicabizau.github.io/ejs-playground/.</p> <h2 id="usage"><a href="#usage" aria-hidden="true" class="header-anchor">#</a> Usage</h2> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">let</span> template <span class="token operator">=</span> ejs<span class="token punctuation">.</span><span class="token function">compile</span><span class="token punctuation">(</span>str<span class="token punctuation">,</span> options<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">template</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// =&gt; Rendered HTML string</span>

ejs<span class="token punctuation">.</span><span class="token function">render</span><span class="token punctuation">(</span>str<span class="token punctuation">,</span> data<span class="token punctuation">,</span> options<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// =&gt; Rendered HTML string</span>

ejs<span class="token punctuation">.</span><span class="token function">renderFile</span><span class="token punctuation">(</span>filename<span class="token punctuation">,</span> data<span class="token punctuation">,</span> options<span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">err<span class="token punctuation">,</span> str</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token comment">// str =&gt; Rendered HTML string</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>It is also possible to use <code>ejs.render(dataAndOptions);</code> where you pass
everything in a single object. In that case, you'll end up with local variables
for all the passed options. However, be aware that your code could break if we
add an option with the same name as one of your data object's properties.
Therefore, we do not recommend using this shortcut.</p> <h2 id="options"><a href="#options" aria-hidden="true" class="header-anchor">#</a> Options</h2> <ul><li><code>cache</code>                 Compiled functions are cached, requires <code>filename</code></li> <li><code>filename</code>              The name of the file being rendered. Not required if you
are using <code>renderFile()</code>. Used by <code>cache</code> to key caches, and for includes.</li> <li><code>root</code>                  Set project root for includes with an absolute path (/file.ejs).</li> <li><code>context</code>               Function execution context</li> <li><code>compileDebug</code>          When <code>false</code> no debug instrumentation is compiled</li> <li><code>client</code>                When <code>true</code>, compiles a function that can be rendered
in the browser without needing to load the EJS Runtime
(<a href="https://github.com/mde/ejs/releases/latest" target="_blank" rel="noopener noreferrer">ejs.min.js<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>).</li> <li><code>delimiter</code>             Character to use with angle brackets for open/close</li> <li><code>debug</code>                 Output generated function body</li> <li><code>strict</code>                When set to <code>true</code>, generated function is in strict mode</li> <li><code>_with</code>                 Whether or not to use <code>with() {}</code> constructs. If <code>false</code>
then the locals will be stored in the <code>locals</code> object. Set to <code>false</code> in strict mode.</li> <li><code>localsName</code>            Name to use for the object storing local variables when not using
<code>with</code> Defaults to <code>locals</code></li> <li><code>rmWhitespace</code>          Remove all safe-to-remove whitespace, including leading
and trailing whitespace. It also enables a safer version of <code>-%&gt;</code> line
slurping for all scriptlet tags (it does not strip new lines of tags in
the middle of a line).</li> <li><code>escape</code>                The escaping function used with <code>&lt;%=</code> construct. It is
used in rendering and is <code>.toString()</code>ed in the generation of client functions.
(By default escapes XML).</li> <li><code>outputFunctionName</code>    Set to a string (e.g., 'echo' or 'print') for a function to print
output inside scriptlet tags.</li> <li><code>async</code>                 When <code>true</code>, EJS will use an async function for rendering. (Depends
on async/await support in the JS runtime.</li></ul> <p>This project uses <a href="http://usejsdoc.org/" target="_blank" rel="noopener noreferrer">JSDoc<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>. For the full public API
documentation, clone the repository and run <code>npm run doc</code>. This will run JSDoc
with the proper options and output the documentation to <code>out/</code>. If you want
the both the public &amp; private API docs, run <code>npm run devdoc</code> instead.</p> <h2 id="tags"><a href="#tags" aria-hidden="true" class="header-anchor">#</a> Tags</h2> <ul><li><code>&lt;%</code>              'Scriptlet' tag, for control-flow, no output</li> <li><code>&lt;%_</code>             'Whitespace Slurping' Scriptlet tag, strips all whitespace before it</li> <li><code>&lt;%=</code>             Outputs the value into the template (escaped)</li> <li><code>&lt;%-</code>             Outputs the unescaped value into the template</li> <li><code>&lt;%#</code>             Comment tag, no execution, no output</li> <li><code>&lt;%%</code>             Outputs a literal '&lt;%'</li> <li><code>%%&gt;</code>             Outputs a literal '%&gt;'</li> <li><code>%&gt;</code>              Plain ending tag</li> <li><code>-%&gt;</code>             Trim-mode ('newline slurp') tag, trims following newline</li> <li><code>_%&gt;</code>             'Whitespace Slurping' ending tag, removes all whitespace after it</li></ul> <p>For the full syntax documentation, please see <a href="https://github.com/mde/ejs/blob/master/docs/syntax.md" target="_blank" rel="noopener noreferrer">docs/syntax.md<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>.</p> <h2 id="includes"><a href="#includes" aria-hidden="true" class="header-anchor">#</a> Includes</h2> <p>Includes either have to be an absolute path, or, if not, are assumed as
relative to the template with the <code>include</code> call. For example if you are
including <code>./views/user/show.ejs</code> from <code>./views/users.ejs</code> you would
use <code>&lt;%- include('user/show') %&gt;</code>.</p> <p>You must specify the <code>filename</code> option for the template with the <code>include</code>
call unless you are using <code>renderFile()</code>.</p> <p>You'll likely want to use the raw output tag (<code>&lt;%-</code>) with your include to avoid
double-escaping the HTML output.</p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ul</span><span class="token punctuation">&gt;</span></span>
  &lt;% users.forEach(function(user){ %&gt;
    &lt;%- include('user/show', {user: user}) %&gt;
  &lt;% }); %&gt;
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ul</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>Includes are inserted at runtime, so you can use variables for the path in the
<code>include</code> call (for example <code>&lt;%- include(somePath) %&gt;</code>). Variables in your
top-level data object are available to all your includes, but local variables
need to be passed down.</p> <p>NOTE: Include preprocessor directives (<code>&lt;% include user/show %&gt;</code>) are
still supported.</p> <h2 id="custom-delimiters"><a href="#custom-delimiters" aria-hidden="true" class="header-anchor">#</a> Custom delimiters</h2> <p>Custom delimiters can be applied on a per-template basis, or globally:</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">let</span> ejs <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'ejs'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    users <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'geddy'</span><span class="token punctuation">,</span> <span class="token string">'neil'</span><span class="token punctuation">,</span> <span class="token string">'alex'</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

<span class="token comment">// Just one template</span>
ejs<span class="token punctuation">.</span><span class="token function">render</span><span class="token punctuation">(</span><span class="token string">'&lt;?= users.join(&quot; | &quot;); ?&gt;'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>users<span class="token punctuation">:</span> users<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>delimiter<span class="token punctuation">:</span> <span class="token string">'?'</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// =&gt; 'geddy | neil | alex'</span>

<span class="token comment">// Or globally</span>
ejs<span class="token punctuation">.</span>delimiter <span class="token operator">=</span> <span class="token string">'$'</span><span class="token punctuation">;</span>
ejs<span class="token punctuation">.</span><span class="token function">render</span><span class="token punctuation">(</span><span class="token string">'&lt;$= users.join(&quot; | &quot;); $&gt;'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>users<span class="token punctuation">:</span> users<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// =&gt; 'geddy | neil | alex'</span>
</code></pre></div><h2 id="caching"><a href="#caching" aria-hidden="true" class="header-anchor">#</a> Caching</h2> <p>EJS ships with a basic in-process cache for caching the intermediate JavaScript
functions used to render templates. It's easy to plug in LRU caching using
Node's <code>lru-cache</code> library:</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">let</span> ejs <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'ejs'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token constant">LRU</span> <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'lru-cache'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
ejs<span class="token punctuation">.</span>cache <span class="token operator">=</span> <span class="token constant">LRU</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// LRU cache with 100-item limit</span>
</code></pre></div><p>If you want to clear the EJS cache, call <code>ejs.clearCache</code>. If you're using the
LRU cache and need a different limit, simple reset <code>ejs.cache</code> to a new instance
of the LRU.</p> <h2 id="custom-file-loader"><a href="#custom-file-loader" aria-hidden="true" class="header-anchor">#</a> Custom file loader</h2> <p>The default file loader is <code>fs.readFileSync</code>, if you want to customize it, you can set ejs.fileLoader.</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">let</span> ejs <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'ejs'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> <span class="token function-variable function">myFileLoad</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">filePath</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token string">'myFileLoad: '</span> <span class="token operator">+</span> fs<span class="token punctuation">.</span><span class="token function">readFileSync</span><span class="token punctuation">(</span>filePath<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

ejs<span class="token punctuation">.</span>fileLoader <span class="token operator">=</span> myFileLoad<span class="token punctuation">;</span>
</code></pre></div><p>With this feature, you can preprocess the template before reading it.</p> <h2 id="layouts"><a href="#layouts" aria-hidden="true" class="header-anchor">#</a> Layouts</h2> <p>EJS does not specifically support blocks, but layouts can be implemented by
including headers and footers, like so:</p> <div class="language-html extra-class"><pre class="language-html"><code>&lt;%- include('header') -%&gt;
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">&gt;</span></span>
  Title
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>
  My page
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
&lt;%- include('footer') -%&gt;
</code></pre></div><h2 id="client-side-support"><a href="#client-side-support" aria-hidden="true" class="header-anchor">#</a> Client-side support</h2> <p>Go to the <a href="https://github.com/mde/ejs/releases/latest" target="_blank" rel="noopener noreferrer">Latest Release<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>, download
<code>./ejs.js</code> or <code>./ejs.min.js</code>. Alternately, you can compile it yourself by cloning
the repository and running <code>jake build</code> (or <code>$(npm bin)/jake build</code> if jake is
not installed globally).</p> <p>Include one of these files on your page, and <code>ejs</code> should be available globally.</p> <h3 id="example-2"><a href="#example-2" aria-hidden="true" class="header-anchor">#</a> Example</h3> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>output<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>ejs.min.js<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
  <span class="token keyword">let</span> people <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'geddy'</span><span class="token punctuation">,</span> <span class="token string">'neil'</span><span class="token punctuation">,</span> <span class="token string">'alex'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
      html <span class="token operator">=</span> ejs<span class="token punctuation">.</span><span class="token function">render</span><span class="token punctuation">(</span><span class="token string">'&lt;%= people.join(&quot;, &quot;); %&gt;'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>people<span class="token punctuation">:</span> people<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">// With jQuery:</span>
  <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">'#output'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">html</span><span class="token punctuation">(</span>html<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">// Vanilla JS:</span>
  document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'output'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>innerHTML <span class="token operator">=</span> html<span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h3 id="caveats"><a href="#caveats" aria-hidden="true" class="header-anchor">#</a> Caveats</h3> <p>Most of EJS will work as expected; however, there are a few things to note:</p> <ol><li>Obviously, since you do not have access to the filesystem, <code>ejs.renderFile()</code> won't work.</li> <li>For the same reason, <code>include</code>s do not work unless you use an <code>include callback</code>. Here is an example:</li></ol> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">let</span> str <span class="token operator">=</span> <span class="token string">&quot;Hello &lt;%= include('file', {person: 'John'}); %&gt;&quot;</span><span class="token punctuation">,</span>
    fn <span class="token operator">=</span> ejs<span class="token punctuation">.</span><span class="token function">compile</span><span class="token punctuation">(</span>str<span class="token punctuation">,</span> <span class="token punctuation">{</span>client<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token function">fn</span><span class="token punctuation">(</span>data<span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">path<span class="token punctuation">,</span> d</span><span class="token punctuation">)</span><span class="token punctuation">{</span> <span class="token comment">// include callback</span>
  <span class="token comment">// path -&gt; 'file'</span>
  <span class="token comment">// d -&gt; {person: 'John'}</span>
  <span class="token comment">// Put your code here</span>
  <span class="token comment">// Return the contents of file as a string</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// returns rendered string</span>
</code></pre></div><h3 id="ide-integration-with-syntax-highlighting"><a href="#ide-integration-with-syntax-highlighting" aria-hidden="true" class="header-anchor">#</a> IDE Integration with Syntax Highlighting</h3> <p>VSCode:Javascript EJS by <em>DigitalBrainstem</em></p> <h2 id="related-projects"><a href="#related-projects" aria-hidden="true" class="header-anchor">#</a> Related projects</h2> <p>There are a number of implementations of EJS:</p> <ul><li>TJ's implementation, the v1 of this library: https://github.com/tj/ejs</li> <li>Jupiter Consulting's EJS: http://www.embeddedjs.com/</li> <li>EJS Embedded JavaScript Framework on Google Code: https://code.google.com/p/embeddedjavascript/</li> <li>Sam Stephenson's Ruby implementation: https://rubygems.org/gems/ejs</li> <li>Erubis, an ERB implementation which also runs JavaScript: http://www.kuwata-lab.com/erubis/users-guide.04.html#lang-javascript</li> <li>DigitalBrainstem EJS Language support: https://github.com/Digitalbrainstem/ejs-grammar</li></ul> <h2 id="license"><a href="#license" aria-hidden="true" class="header-anchor">#</a> License</h2> <p>Licensed under the Apache License, Version 2.0
(<a href="http://www.apache.org/licenses/LICENSE-2.0" target="_blank" rel="noopener noreferrer">http://www.apache.org/licenses/LICENSE-2.0<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>)</p> <hr> <p>EJS Embedded JavaScript templates copyright 2112
mde@fleegix.org.</p></div> <div class="page-edit"><!----> <div class="last-updated"><span class="prefix">上次更新: </span> <span class="time">5/25/2019, 4:55:53 PM</span></div></div> <!----> </div> <!----></div></div>
    <script src="/assets/js/app.bbf0b81e.js" defer></script><script src="/assets/js/56.5c0ec703.js" defer></script>
  </body>
</html>
