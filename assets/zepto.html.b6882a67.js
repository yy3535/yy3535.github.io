import{_ as n,o as s,c as a,a as p}from"./app.e4556a3b.js";const t={},e=p(`<h1 id="zepto\u6E90\u7801\u89E3\u8BFB" tabindex="-1"><a class="header-anchor" href="#zepto\u6E90\u7801\u89E3\u8BFB" aria-hidden="true">#</a> zepto\u6E90\u7801\u89E3\u8BFB</h1><h2 id="\u903B\u8F91\u8BBE\u8BA1" tabindex="-1"><a class="header-anchor" href="#\u903B\u8F91\u8BBE\u8BA1" aria-hidden="true">#</a> \u903B\u8F91\u8BBE\u8BA1</h2><p>zepto\u5BF9\u8C61\u770B\u8D77\u6765\u50CF\u6570\u7EC4\uFF0C\u4F46\u65E0\u8BBA\u662Finstanceof\u8FD8\u662F._<em>proto</em>_.constructor\u90FD\u4E0D\u662FArray.</p><h2 id="zepto\u8BBE\u8BA1\u539F\u7406" tabindex="-1"><a class="header-anchor" href="#zepto\u8BBE\u8BA1\u539F\u7406" aria-hidden="true">#</a> zepto\u8BBE\u8BA1\u539F\u7406</h2><p>\u91CD\u5199\u6570\u7EC4_<em>proto</em>_\uFF0C\u91CC\u9762\u8981\u7528\u5230\u539F\u6570\u7EC4\u5C5E\u6027\u7684\u76F4\u63A5=Array.prototype.xxx\uFF0C\u5176\u4F59\u6DFB\u52A0\u5B83\u60F3\u8981\u6DFB\u52A0\u7684\u65B9\u6CD5\u3002</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">var</span> arr<span class="token operator">=</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
arr<span class="token punctuation">.</span>__proto__<span class="token operator">=</span><span class="token punctuation">{</span>
  <span class="token function-variable function">addClass</span><span class="token operator">:</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;this is addClass&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token literal-property property">concat</span><span class="token operator">:</span><span class="token class-name">Array</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>concat<span class="token punctuation">,</span>
  <span class="token literal-property property">push</span><span class="token operator">:</span><span class="token class-name">Array</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>push
<span class="token punctuation">}</span><span class="token punctuation">;</span>
arr<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
arr<span class="token punctuation">.</span><span class="token function">addClass</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="zepto\u6E90\u7801\u89E3\u6784" tabindex="-1"><a class="header-anchor" href="#zepto\u6E90\u7801\u89E3\u6784" aria-hidden="true">#</a> zepto\u6E90\u7801\u89E3\u6784</h2><p>https://cdn.bootcss.com/zepto/1.1.6/zepto.js</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">var</span> Zepto<span class="token operator">=</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token keyword">var</span> $<span class="token punctuation">,</span>
  zepto<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">}</span>
  <span class="token comment">//\u7701\u7565N\u884C\u4EE3\u7801</span>
  <span class="token function-variable function">$</span><span class="token operator">=</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">selector<span class="token punctuation">,</span>context</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">return</span> zepto<span class="token punctuation">.</span><span class="token function">init</span><span class="token punctuation">(</span>selector<span class="token punctuation">,</span>context<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
  <span class="token comment">//\u7701\u7565N\u884C\u4EE3\u7801</span>
  <span class="token keyword">return</span> $
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
window<span class="token punctuation">.</span>Zepto<span class="token operator">=</span>Zepto
window<span class="token punctuation">.</span>$<span class="token operator">===</span><span class="token keyword">undefined</span><span class="token operator">&amp;&amp;</span><span class="token punctuation">(</span>window<span class="token punctuation">.</span>$<span class="token operator">=</span>Zepto<span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="zepto\u6E90\u7801-init\u51FD\u6570" tabindex="-1"><a class="header-anchor" href="#zepto\u6E90\u7801-init\u51FD\u6570" aria-hidden="true">#</a> zepto\u6E90\u7801-init\u51FD\u6570</h2><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>zepto<span class="token punctuation">.</span><span class="token function-variable function">init</span><span class="token operator">=</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">selector<span class="token punctuation">,</span>context</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token keyword">var</span> dom
  <span class="token comment">// ...\u6B64\u5904\u7701\u7565N\u884C\u5BF9dom\u7684\u5904\u7406...</span>
  <span class="token comment">// 1.selector\u4E3A\u7A7A</span>
  <span class="token comment">// 2.selector\u662F\u5B57\u7B26\u4E32\uFF0C\u5176\u4E2D\u53C8\u5206\u597D\u51E0\u79CD\u60C5\u51B5</span>
  <span class="token comment">// 3.selector\u662F\u51FD\u6570</span>
  <span class="token comment">// 4.\u5176\u4ED6\u60C5\u51B5\uFF0C\u4F8B\u5982selector\u662F\u6570\u7EC4\uFF0C\u5BF9\u8C61\u7B49</span>
  <span class="token keyword">return</span> zepto<span class="token punctuation">.</span><span class="token constant">Z</span><span class="token punctuation">(</span>dom<span class="token punctuation">,</span>selector<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="zepto\u6E90\u7801-z\u51FD\u6570-\u4E0A" tabindex="-1"><a class="header-anchor" href="#zepto\u6E90\u7801-z\u51FD\u6570-\u4E0A" aria-hidden="true">#</a> zepto\u6E90\u7801-Z\u51FD\u6570-\u4E0A</h2><p>.fn\uFF0C\u5728\u7C7B\u5E93\u4E2D\u4E00\u822C\u662F.prototype\u539F\u578B\u7684\u610F\u601D\u3002\u56E0\u4E3Aprototype\u592A\u957F\uFF0C\u6240\u4EE5\u628Aprototype\u8D4B\u503C\u7ED9fn</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>zepto<span class="token punctuation">.</span><span class="token function-variable function">Z</span><span class="token operator">=</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">dom<span class="token punctuation">,</span>selector</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  dom<span class="token operator">=</span>dom<span class="token operator">||</span><span class="token punctuation">[</span><span class="token punctuation">]</span>
  dom<span class="token punctuation">.</span>__proto__<span class="token operator">=</span>$<span class="token punctuation">.</span>fn
  dom<span class="token punctuation">.</span>selector<span class="token operator">=</span>selector<span class="token operator">||</span><span class="token string">&#39;&#39;</span>
  <span class="token keyword">return</span> dom
<span class="token punctuation">}</span>

$<span class="token punctuation">.</span>fn<span class="token operator">=</span><span class="token punctuation">{</span>
  <span class="token comment">//...\u5F88\u591A\u5C5E\u6027...</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="zepto\u6E90\u7801-z\u51FD\u6570-\u4E0B" tabindex="-1"><a class="header-anchor" href="#zepto\u6E90\u7801-z\u51FD\u6570-\u4E0B" aria-hidden="true">#</a> zepto\u6E90\u7801-Z\u51FD\u6570-\u4E0B</h2><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token constant">Z</span><span class="token punctuation">(</span><span class="token parameter">dom<span class="token punctuation">,</span>selector</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token keyword">var</span> i<span class="token punctuation">,</span>len<span class="token operator">=</span>dom<span class="token operator">?</span>dom<span class="token punctuation">.</span>length<span class="token operator">:</span><span class="token number">0</span>
  <span class="token keyword">for</span><span class="token punctuation">(</span>i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span>len<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token keyword">this</span><span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token operator">=</span>dom<span class="token punctuation">[</span>i<span class="token punctuation">]</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>length<span class="token operator">=</span>len
  <span class="token keyword">this</span><span class="token punctuation">.</span>selector<span class="token operator">=</span>selector<span class="token operator">||</span><span class="token string">&#39;&#39;</span>
<span class="token punctuation">}</span>

zepto<span class="token punctuation">.</span><span class="token function-variable function">Z</span><span class="token operator">=</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">dom<span class="token punctuation">,</span>selector</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Z</span><span class="token punctuation">(</span>dom<span class="token punctuation">,</span>selector<span class="token punctuation">)</span>
<span class="token punctuation">}</span>

$<span class="token punctuation">.</span>fn<span class="token operator">=</span><span class="token punctuation">{</span>
  <span class="token comment">//...\u5F88\u591A\u5C5E\u6027...</span>
<span class="token punctuation">}</span>

zepto<span class="token punctuation">.</span><span class="token class-name">Z</span><span class="token punctuation">.</span>prototype<span class="token operator">=</span><span class="token class-name">Z</span><span class="token punctuation">.</span>prototype<span class="token operator">=</span>$<span class="token punctuation">.</span>fn
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,16),o=[e];function c(i,l){return s(),a("div",null,o)}var r=n(t,[["render",c],["__file","zepto.html.vue"]]);export{r as default};
