import{_ as k,r as i,o as d,c as v,b as n,e as a,w as t,d as s,a as c}from"./app.3e8212ab.js";const m={},g=n("h1",{id:"\u8FD0\u884C\u73AF\u5883",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#\u8FD0\u884C\u73AF\u5883","aria-hidden":"true"},"#"),s(" \u8FD0\u884C\u73AF\u5883")],-1),b={class:"table-of-contents"},h=s("HTTP\u534F\u8BAE"),f=s("UDP\u548CTCP"),_=s("\u9875\u9762\u52A0\u8F7D"),y=s("\u6D4F\u89C8\u5668\u52A0\u8F7D\u8D44\u6E90\u7684\u8FC7\u7A0B"),w=s("\u4E3A\u4F55\u8981\u628A css \u653E\u5728 head \u4E2D"),x=s("\u4E3A\u4F55\u8981\u628A JS \u653E\u5728 body \u6700\u540E"),q=s("window.onload\u548CDOMContentLoaded\u533A\u522B"),T=s("\u52A0\u8F7D\u8D44\u6E90\u4F18\u5316"),S=s("\u6E32\u67D3\u4F18\u5316"),j=s("\u8BE6\u7EC6\u89E3\u8BF4"),C=s("\u5B89\u5168\u6027"),E=s("\u63A8\u8350\u4E66"),L=s("web \u653B\u51FB\u65B9\u5F0F"),P=c(`<h2 id="http\u534F\u8BAE" tabindex="-1"><a class="header-anchor" href="#http\u534F\u8BAE" aria-hidden="true">#</a> HTTP\u534F\u8BAE</h2><ul><li>HTTP\u534F\u8BAE\u7684\u4E3B\u8981\u7279\u70B9 <ul><li>\u7B80\u5355\u5FEB\u901F(\u6BCF\u4E2A\u8D44\u6E90\u662F\u56FA\u5B9A\u7684\uFF0C\u5904\u7406\u8D77\u6765\u7B80\u5355\uFF0C\u8BBF\u95EE\u8D44\u6E90\u8F93\u5165URI\u5C31\u884C)</li><li>\u7075\u6D3B\uFF08\u6BCF\u4E2Ahttp\u534F\u8BAE\u5934\u90E8\u5206\u6709\u4E2A\u7C7B\u578B\uFF0C\u53EF\u8BF7\u6C42\u4E0D\u540C\u7C7B\u578B\u8D44\u6E90\uFF09</li><li>\u65E0\u8FDE\u63A5\u3010\u91CD\u8981\u3011\uFF08\u8FDE\u63A5\u4E00\u6B21\u5C31\u4F1A\u65AD\u6389\uFF0C\u4E0D\u4F1A\u4FDD\u6301\u8FDE\u63A5\uFF09</li><li>\u65E0\u72B6\u6001\u3010\u91CD\u8981\u3011\uFF08\u5BA2\u6237\u7AEF\u548C\u670D\u52A1\u7AEF\u662F\u4E24\u79CD\u8EAB\u4EFD\uFF0C\u5355http\u534F\u8BAE\u4E0A\u662F\u4E0D\u80FD\u533A\u5206\u4E24\u6B21\u8FDE\u63A5\u7684\u8EAB\u4EFD\u7684\uFF09</li></ul></li><li>HTTP\u62A5\u6587\u7684\u7EC4\u6210\u90E8\u5206 <ul><li>\u8BF7\u6C42\u62A5\u6587 <ul><li>\u8BF7\u6C42\u884C <ul><li>\u8BF7\u6C42\u65B9\u6CD5</li><li>URL</li><li>http\u534F\u8BAE\u4EE5\u53CA\u7248\u672C</li></ul></li><li>\u9996\u90E8 <ul><li>key,value\u503C\u544A\u8BC9\u670D\u52A1\u7AEF\u6211\u8981\u54EA\u4E9B\u5185\u5BB9\uFF0C\u54EA\u4E9B\u7C7B\u578B</li></ul></li><li>\u7A7A\u884C <ul><li>\u8BF7\u6C42\u5934\u548C\u8BF7\u6C42\u4F53\u7684\u5206\u5272</li></ul></li><li>\u4E3B\u4F53 <ul><li>\u6570\u636E\u90E8\u5206</li></ul></li></ul></li></ul></li></ul><div class="language-markdown ext-md line-numbers-mode"><pre class="language-markdown"><code><span class="token comment">&lt;!-- \u8BF7\u6C42\u884C --&gt;</span>
POST /search HTTP/1.1  
<span class="token comment">&lt;!-- \u9996\u90E8 --&gt;</span>
Accept: image/gif, image/x-xbitmap, image/jpeg, image/pjpeg, application/vnd.ms-excel, application/vnd.ms-powerpoint, 
application/msword, application/x-silverlight, application/x-shockwave-flash, <span class="token italic"><span class="token punctuation">*</span><span class="token content">/</span><span class="token punctuation">*</span></span>  
Referer: <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://www.google.cn/<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>http://www.google.cn/<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span>  
Accept-Language: zh-cn  
Accept-Encoding: gzip, deflate  
User-Agent: Mozilla/4.0 (compatible; MSIE 6.0; Windows NT 5.1; SV1; .NET CLR 2.0.50727; TheWorld)  
Host: <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://www.google.cn<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>www.google.cn<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span>  
Connection: Keep-Alive  
Cookie: PREF=ID=80a06da87be9ae3c:U=f7167333e2c3b714:NW=1:TM=1261551909:LM=1261551917:S=ybYcq2wpfefs4V9g; 
NID=31=ojj8d-IygaEtSxLgaJmqSjVhCspkviJrB6omjamNrSm8lZhKy_yMfO2M4QMRKcH1g0iQv9u-2hfBW7bUFwVh7pGaRUb0RnHcJU37y-
FxlRugatx63JLv7CWMD6UB_O_r  

hl=zh-CN&amp;source=hp&amp;q=domety
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>\u54CD\u5E94\u62A5\u6587 <ul><li>\u72B6\u6001\u884C</li><li>\u9996\u90E8</li><li>\u7A7A\u884C</li><li>\u4E3B\u4F53</li></ul></li></ul><div class="language-markdown ext-md line-numbers-mode"><pre class="language-markdown"><code><span class="token comment">&lt;!-- \u72B6\u6001\u884C --&gt;</span>
HTTP/1.1 200 OK
<span class="token comment">&lt;!-- \u54CD\u5E94\u5934 --&gt;</span>
Date: Sat, 31 Dec 2005 23:59:59 GMT
Content-Type: text/html;charset=ISO-8859-1
Content-Length: 122

\uFF1Chtml\uFF1E
\uFF1Chead\uFF1E
\uFF1Ctitle\uFF1EWrox Homepage\uFF1C/title\uFF1E
\uFF1C/head\uFF1E
\uFF1Cbody\uFF1E
\uFF1C!-- body goes here --\uFF1E
\uFF1C/body\uFF1E
\uFF1C/html\uFF1E
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,5),M=c("<p>HTTP\u65B9\u6CD5</p><ul><li><p>get(\u83B7\u53D6\u8D44\u6E90)</p></li><li><p>post(\u4F20\u8F93\u8D44\u6E90)</p></li><li><p>put(\u66F4\u65B0\u8D44\u6E90)</p></li><li><p>delete(\u5220\u9664\u8D44\u6E90)</p></li><li><p>options(\u8BD5\u63A2\u8BF7\u6C42\uFF0C\u8DE8\u57DF\u65F6\u4F1A\u7528\u5230)</p></li><li><p>head(\u83B7\u5F97\u62A5\u6587\u9996\u90E8)</p></li><li><p>\u524D\u56DB\u4E2A\u53EB\u505Aresful\u98CE\u683C</p></li></ul>",2),D=s("POST\u548CGET\u7684\u533A\u522B"),O=s(" - "),I=s("GET\u5728\u6D4F\u89C8\u5668\u56DE\u9000\u65F6\u662F\u65E0\u5BB3\u7684\uFF0C\u800CPOST\u4F1A\u518D\u6B21\u63D0\u4EA4\u8BF7\u6C42"),R=s(" - "),H=s("GET\u8BF7\u6C42\u4F1A\u88AB\u6D4F\u89C8\u5668\u4E3B\u52A8\u7F13\u5B58\uFF0C\u800CPOST\u4E0D\u53EF\u4EE5"),X=s(" - "),N=s("GET\u8BF7\u6C42\u53C2\u6570\u4F1A\u88AB\u5B8C\u6574\u4FDD\u7559\u5728\u6D4F\u89C8\u5668\u5386\u53F2\u7EAA\u5F55\u91CC\uFF0C\u800CPOST\u4E2D\u7684\u53C2\u6570\u4E0D\u4F1A\u88AB\u4FDD\u7559"),U=s(" - "),B=s("GET\u8BF7\u6C42\u5728URL\u4E2D\u4F20\u9001\u7684\u53C2\u6570\u662F\u6709\u957F\u5EA6\u9650\u5236\u7684\uFF0C\u800CPOST\u6CA1\u6709\u9650\u5236"),F=s(" - \u4E0D\u540C\u6D4F\u89C8\u5668\u4E0D\u4E00\u6837\uFF0C\u5982\u679C\u4F7F\u7528get\u8BF7\u6C42\uFF0C\u62FC\u63A5\u7684url\u4E0D\u80FD\u592A\u957F\uFF0C\u5426\u5219\u4F1A\u88AB\u6D4F\u89C8\u5668\u622A\u65AD\uFF0Chttp\u534F\u8BAE\u5BF9\u957F\u5EA6\u6709\u9650\u5236\uFF0C\u6240\u4EE5\u592A\u957F\u53D1\u4E0D\u51FA\u53BB\uFF0C\u4F1A\u622A\u65AD - "),G=s("\u5BF9\u53C2\u6570\u7684\u6570\u636E\u7C7B\u578B\uFF0CGET\u53EA\u63A5\u53D7ASCII\u5B57\u7B26\uFF0C\u800CPOST\u6CA1\u6709\u9650\u5236"),W=s(" - "),A=s("GET\u53C2\u6570\u901A\u8FC7URL\u4F20\u9012\uFF0CPOST\u653E\u5728Request body\u4E2D\uFF08\u4E86\u89E3\uFF09"),J=s(" - GET\u4EA7\u751F\u7684URL\u53EF\u4EE5\u88AB\u6536\u85CF\uFF0C\u800CPOST\u4E0D\u53EF\u4EE5(\u53EF\u4E0D\u8BB0) - GET\u8BF7\u6C42\u53EA\u80FD\u8FDB\u884Curl\u7F16\u7801\uFF0C\u800CPOST\u652F\u6301\u591A\u79CD\u7F16\u7801\u65B9\u5F0F(\u53EF\u8BB0\u53EF\u4E0D\u8BB0) - GET\u6BD4POST\u66F4\u4E0D\u5B89\u5168\uFF0C\u56E0\u4E3A\u53C2\u6570\u76F4\u63A5\u66B4\u9732\u5728URL\u4E0A\uFF0C\u6240\u4EE5\u4E0D\u80FD\u7528\u6765\u4F20\u9012\u654F\u611F\u4FE1\u606F(\u4E86\u89E3) - \u3010\u603B\u7ED3\u3011 - Get \u8BF7\u6C42\u80FD\u7F13\u5B58\uFF0CPost \u4E0D\u80FD - Post \u76F8\u5BF9 Get \u5B89\u5168\u4E00\u70B9\u70B9\uFF0C\u56E0\u4E3AGet \u8BF7\u6C42\u90FD\u5305\u542B\u5728 URL \u91CC\uFF08\u5F53\u7136\u4F60\u60F3\u5199\u5230 body \u91CC\u4E5F\u662F\u53EF\u4EE5\u7684\uFF09\uFF0C\u4E14\u4F1A\u88AB\u6D4F\u89C8\u5668\u4FDD\u5B58\u5386\u53F2\u7EAA\u5F55\u3002Post \u4E0D\u4F1A\uFF0C\u4F46\u662F\u5728\u6293\u5305\u7684\u60C5\u51B5\u4E0B\u90FD\u662F\u4E00\u6837\u7684\u3002 - URL\u6709\u957F\u5EA6\u9650\u5236\uFF0C\u4F1A\u5F71\u54CD Get \u8BF7\u6C42\uFF0C\u4F46\u662F\u8FD9\u4E2A\u957F\u5EA6\u9650\u5236\u662F\u6D4F\u89C8\u5668\u89C4\u5B9A\u7684\uFF0C\u4E0D\u662F RFC \u89C4\u5B9A\u7684 - Post \u652F\u6301\u66F4\u591A\u7684\u7F16\u7801\u7C7B\u578B\u4E14\u4E0D\u5BF9\u6570\u636E\u7C7B\u578B\u9650\u5236 "),z=c(`<li><p>HTTP\u72B6\u6001\u7801</p><table><thead><tr><th>\u72B6\u6001</th><th>\u542B\u4E49</th><th></th></tr></thead><tbody><tr><td>1XX</td><td>Informational(\u4FE1\u606F\u6027\u72B6\u6001\u7801)</td><td></td></tr><tr><td>2XX</td><td>Success(\u6210\u529F\u72B6\u6001\u7801)</td><td></td></tr><tr><td>3XX</td><td>Redirection(\u91CD\u5B9A\u5411)</td><td></td></tr><tr><td>4XX</td><td>Client Error(\u5BA2\u6237\u7AEF\u9519\u8BEF\u72B6\u6001\u7801)</td><td></td></tr><tr><td>5XX</td><td>Server Error(\u670D\u52A1\u5668\u9519\u8BEF\u72B6\u6001\u5417)</td><td></td></tr></tbody></table><ul><li>2XX \u6210\u529F <ul><li>200 OK \u5BA2\u6237\u7AEF\u53D1\u8FC7\u6765\u7684\u6570\u636E\u88AB\u6B63\u5E38\u5904\u7406</li><li>204 Not Content \u6B63\u5E38\u54CD\u5E94\uFF0C\u6CA1\u6709\u5B9E\u4F53</li><li>206 Partial Content \u8303\u56F4\u8BF7\u6C42\uFF0C\u8FD4\u56DE\u90E8\u5206\u6570\u636E\uFF0C\u54CD\u5E94\u62A5\u6587\u4E2D\u7531Content-Range\u6307\u5B9A\u5B9E\u4F53\u5185\u5BB9(\u8F83\u591A\uFF0Caudio,video\u6807\u7B7E\uFF0C\u6587\u4EF6\u5F88\u5927\u65F6\u4F1A\u8FD4\u56DE\u8FD9\u4E2A)</li></ul><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>curl <span class="token operator">-</span>v <span class="token operator">--</span>header <span class="token string">&quot;Range:bytes=0-3&quot;</span> <span class="token literal-property property">https</span><span class="token operator">:</span><span class="token operator">/</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">www.baidu.com</span><span class="token regex-delimiter">/</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div></li><li>3XX \u91CD\u5B9A\u5411 <ul><li>301 Moved Permanently\uFF1A\u6C38\u4E45\u91CD\u5B9A\u5411(\u6362\u57DF\u540D)</li><li>302 Found\uFF1A\u4E34\u65F6\u91CD\u5B9A\u5411\uFF0C\u89C4\u8303\u8981\u6C42\u65B9\u6CD5\u540D\u4E0D\u53D8\uFF0C\u4F46\u662F\u90FD\u4F1A\u6539\u53D8</li><li>303(See Other) \u548C302\u7C7B\u4F3C\uFF0C\u4F46\u5FC5\u987B\u7528GET\u65B9\u6CD5</li><li>304 Not Modified\uFF1A\u914D\u5408(If-Match\u3001If-Modified-Since\u3001If-None_Match\u3001If-Range\u3001If-Unmodified-Since)\u3002\u5BA2\u6237\u7AEF\u6709\u7F13\u51B2\u7684\u6587\u6863\u5E76\u53D1\u51FA\u4E86\u4E00\u4E2A\u6761\u4EF6\u6027\u7684\u8BF7\u6C42\uFF0C\u670D\u52A1\u5668\u544A\u8BC9\u5BA2\u6237\uFF0C\u539F\u6765\u7684\u7F13\u51B2\u6587\u6863\u8FD8\u53EF\u4EE5\u7EE7\u7EED\u4F7F\u7528</li><li>307(Temporary Redirect) \u4E34\u65F6\u91CD\u5B9A\u5411\uFF0C\u4E0D\u8BE5\u6539\u53D8\u8BF7\u6C42\u65B9\u6CD5</li></ul></li><li>4XX \u5BA2\u6237\u7AEF\u9519\u8BEF <ul><li>400 Bad Request\uFF1A\u8BF7\u6C42\u62A5\u6587\u8BED\u6CD5\u9519\u8BEF</li><li>401 Unauthorized\uFF1A\u9700\u8981\u8BA4\u8BC1\uFF08\u6CA1\u6743\u9650\uFF09</li><li>403 Forbidden\uFF1A\u670D\u52A1\u5668\u62D2\u7EDD\u8BBF\u95EE\u5BF9\u5E94\u7684\u8D44\u6E90(\u8F83\u591A\uFF0C\u67D0\u9875\u9762\u7684\u5730\u5740\u53EA\u80FD\u901A\u8FC7\u670D\u52A1\u5668\u6765\u8BBF\u95EE)</li><li>404 Not Found\uFF1A\u670D\u52A1\u5668\u4E0A\u65E0\u6CD5\u627E\u5230\u8D44\u6E90</li></ul></li><li>5XX \u670D\u52A1\u5668\u7AEF\u9519\u8BEF <ul><li>500 Internal Server Error\uFF1A\u670D\u52A1\u5668\u6545\u969C</li><li>503 Server Unavailable\uFF1A\u670D\u52A1\u5668\u5904\u4E8E\u8D85\u8D1F\u8F7D\u6216\u6B63\u5728\u505C\u673A\u7EF4\u62A4</li></ul></li></ul></li>`,1),V=s("\u4EC0\u4E48\u662F\u6301\u4E45\u8FDE\u63A5"),Q=s(" - http\u666E\u901A\u6A21\u5F0F\u662F\u65E0\u8FDE\u63A5\u65E0\u72B6\u6001\uFF0C\u4F46\u662F"),K=s("\u53EF\u8BBE\u7F6Ekeep-alive\u6A21\u5F0F\u652F\u6301\u6301\u4E45\u94FE\u63A5"),Y=s("\uFF0C\u5F53\u51FA\u73B0\u5BF9\u670D\u52A1\u5668\u7684\u540E\u7EE7\u8BF7\u6C42\u4E8B\uFF0C\u907F\u514D\u4E86\u5EFA\u7ACB\u6216\u8005\u91CD\u65B0\u5EFA\u7ACB\u8FDE\u63A5\u3002\u4ECEhttp1.1\u7248\u672C\u5F00\u59CB\u624D\u652F\u6301\u3002 "),Z=s("\u4EC0\u4E48\u662F\u7BA1\u7EBF\u5316"),$=s(" - "),nn=s("\u666E\u901A\u6301\u4E45\u8FDE\u63A5"),sn=s(" - "),an=s("\u8BF7\u6C421->\u54CD\u5E941->\u8BF7\u6C422->\u54CD\u5E942->\u8BF7\u6C423->\u54CD\u5E943"),tn=s(" - "),pn=s("\u7BA1\u7EBF\u5316\u6301\u4E45\u8FDE\u63A5"),en=s(" - "),on=s("\u8BF7\u6C421->\u8BF7\u6C422->\u8BF7\u6C423->\u54CD\u5E941->\u54CD\u5E942->\u54CD\u5E943(\u8BF7\u6C42\u6253\u5305\u8FC7\u53BB\uFF0C\u54CD\u5E94\u6253\u5305\u53D1\u56DE\u6765)"),cn=s(" - "),ln=s("\u7BA1\u7EBF\u5316\u673A\u5236\u901A\u8FC7\u6301\u4E45\u8FDE\u63A5\u5B8C\u6210\uFF0Chttp1.1\u624D\u652F\u6301"),un=s(" - "),rn=s("\u53EA\u6709GET\u548CHEAD\u8BF7\u6C42\u53EF\u4EE5\u7BA1\u7EBF\u5316\uFF0C\u800CPOST\u6709\u6240\u9650\u5236"),kn=s(" - "),dn=s("\u521D\u6B21\u521B\u5EFA\u8FDE\u63A5\u4E0D\u5E94\u542F\u52A8\u7BA1\u7EBF\u673A\u5236\uFF0C\u56E0\u4E3A\u5BF9\u65B9\u670D\u52A1\u5668\u4E0D\u4E00\u5B9A\u652F\u6301http/1.1\u7248\u672C\u7684\u534F\u8BAE"),vn=s(" - \u7BA1\u7EBF\u5316\u4E0D\u4F1A\u5F71\u54CD\u54CD\u5E94\u5230\u6765\u7684\u987A\u5E8F - http/1.1\u8981\u6C42\u670D\u52A1\u7AEF\u652F\u6301\u7BA1\u7EBF\u5316\uFF0C\u4F46\u5E76\u4E0D\u8981\u6C42\u670D\u52A1\u7AEF\u5BF9\u54CD\u5E94\u8FDB\u884C\u7BA1\u7EBF\u5316\u5904\u7406\uFF0C\u53EA\u8981\u6C42\u5BF9\u7BA1\u7EBF\u5316\u7684\u8BF7\u6C42\u4E0D\u5931\u8D25\u5373\u53EF - \u56E0\u4E3A\u4EE5\u4E0A\u670D\u52A1\u7AEF\u95EE\u9898\uFF0C\u5F00\u542F\u7BA1\u7EBF\u5316\u53EF\u80FD\u5E76\u4E0D\u4F1A\u5927\u5E45\u5EA6\u63D0\u5347\u6027\u80FD\uFF0C\u800C\u4E14\u5F88\u591A\u670D\u52A1\u5668\u548C\u4EE3\u7406\u7A0B\u5E8F\u5BF9\u7BA1\u7EBF\u5316\u652F\u6301\u5E76\u4E0D\u597D\uFF0C\u56E0\u6B64Chrome\u548CFirefox\u9ED8\u8BA4\u5E76\u672A\u5F00\u542F\u7BA1\u7EBF\u5316\u652F\u6301 "),mn=c('<h3 id="udp\u548Ctcp" tabindex="-1"><a class="header-anchor" href="#udp\u548Ctcp" aria-hidden="true">#</a> UDP\u548CTCP</h3><ul><li>UDP 1.\u9762\u5411\u65E0\u8FDE\u63A5 2.\u6709\u5355\u64AD\uFF0C\u591A\u64AD\uFF0C\u5E7F\u64AD\u7684\u529F\u80FD 3.UDP \u662F\u9762\u5411\u62A5\u6587\u7684 4.\u4E0D\u53EF\u9760\u6027 5.\u5934\u90E8\u5F00\u9500\u5C0F\uFF0C\u4F20\u8F93\u6570\u636E\u62A5\u6587\u65F6\u662F\u5F88\u9AD8\u6548\u7684\u3002</li><li>TCP <ol><li>TCP \u8FDE\u63A5\u8FC7\u7A0B(\u4E09\u6B21\u63E1\u624B)</li><li>TCP \u65AD\u5F00\u94FE\u63A5\uFF08\u56DB\u6B21\u6325\u624B\uFF09</li><li>\u7279\u70B9</li></ol><ul><li>\u9762\u5411\u8FDE\u63A5</li><li>\u4EC5\u652F\u6301\u5355\u64AD\u4F20\u8F93</li><li>\u9762\u5411\u5B57\u8282\u6D41</li><li>\u53EF\u9760\u4F20\u8F93</li><li>\u63D0\u4F9B\u62E5\u585E\u63A7\u5236</li><li>TCP \u63D0\u4F9B\u5168\u53CC\u5DE5\u901A\u4FE1</li></ul></li><li>\u603B\u7ED3 <ul><li>TCP \u5411\u4E0A\u5C42\u63D0\u4F9B\u9762\u5411\u8FDE\u63A5\u7684\u53EF\u9760\u670D\u52A1 \uFF0CUDP \u5411\u4E0A\u5C42\u63D0\u4F9B\u65E0\u8FDE\u63A5\u4E0D\u53EF\u9760\u670D\u52A1\u3002</li><li>\u867D\u7136 UDP \u5E76\u6CA1\u6709 TCP \u4F20\u8F93\u6765\u7684\u51C6\u786E\uFF0C\u4F46\u662F\u4E5F\u80FD\u5728\u5F88\u591A\u5B9E\u65F6\u6027\u8981\u6C42\u9AD8\u7684\u5730\u65B9\u6709\u6240\u4F5C\u4E3A</li><li>\u5BF9\u6570\u636E\u51C6\u786E\u6027\u8981\u6C42\u9AD8\uFF0C\u901F\u5EA6\u53EF\u4EE5\u76F8\u5BF9\u8F83\u6162\u7684\uFF0C\u53EF\u4EE5\u9009\u7528 TCP</li></ul></li></ul><h2 id="\u9875\u9762\u52A0\u8F7D" tabindex="-1"><a class="header-anchor" href="#\u9875\u9762\u52A0\u8F7D" aria-hidden="true">#</a> \u9875\u9762\u52A0\u8F7D</h2><h3 id="\u6D4F\u89C8\u5668\u52A0\u8F7D\u8D44\u6E90\u7684\u8FC7\u7A0B" tabindex="-1"><a class="header-anchor" href="#\u6D4F\u89C8\u5668\u52A0\u8F7D\u8D44\u6E90\u7684\u8FC7\u7A0B" aria-hidden="true">#</a> \u6D4F\u89C8\u5668\u52A0\u8F7D\u8D44\u6E90\u7684\u8FC7\u7A0B</h3>',4),gn=s(" #### \u52A0\u8F7D\u8D44\u6E90\u7684\u5F62\u5F0F "),bn=n("ul",null,[n("li",null,"\u8F93\u5165 url \u52A0\u8F7D html"),n("li",null,"http://coding.m.imooc.com"),n("li",null,"\u52A0\u8F7D html \u4E2D\u7684\u9759\u6001\u8D44\u6E90"),n("li",null,[n("code",null,'<script src="/static/js/jquery.js"><\/script>')])],-1),hn=s(" #### \u4ECE\u8F93\u5165url\u5230\u5F97\u5230html\u7684\u8FC7\u7A0B "),fn=n("ul",null,[n("li",null,"\u6D4F\u89C8\u5668\u6839\u636E DNS \u670D\u52A1\u5668\u5F97\u5230\u57DF\u540D\u7684 IP \u5730\u5740"),n("li",null,"\u5411\u8FD9\u4E2A IP \u7684\u673A\u5668\u53D1\u9001 http \u8BF7\u6C42"),n("li",null,"\u670D\u52A1\u5668\u6536\u5230\u3001\u5904\u7406\u5E76\u8FD4\u56DE http \u8BF7\u6C42"),n("li",null,"\u6D4F\u89C8\u5668\u5F97\u5230\u8FD4\u56DE\u5185\u5BB9")],-1),_n=c(' ### \u6D4F\u89C8\u5668\u6E32\u67D3\u9875\u9762\u7684\u8FC7\u7A0B <ul><li>\u6839\u636E HTML \u7ED3\u6784\u751F\u6210 DOM Tree</li><li>\u6839\u636E CSS \u751F\u6210 CSS Rule</li><li>\u5C06 DOM \u548C CSSOM \u6574\u5408\u5F62\u6210 RenderTree</li><li>\u6839\u636E RenderTree \u5F00\u59CB\u6E32\u67D3\u548C\u5C55\u793A</li><li>\u9047\u5230<code>&lt;script&gt;</code>\u65F6\uFF0C\u4F1A\u6267\u884C\u5E76\u963B\u585E\u6E32\u67D3</li></ul><h3 id="\u4E3A\u4F55\u8981\u628A-css-\u653E\u5728-head-\u4E2D" tabindex="-1"><a class="header-anchor" href="#\u4E3A\u4F55\u8981\u628A-css-\u653E\u5728-head-\u4E2D" aria-hidden="true">#</a> \u4E3A\u4F55\u8981\u628A css \u653E\u5728 head \u4E2D</h3><h3 id="\u4E3A\u4F55\u8981\u628A-js-\u653E\u5728-body-\u6700\u540E" tabindex="-1"><a class="header-anchor" href="#\u4E3A\u4F55\u8981\u628A-js-\u653E\u5728-body-\u6700\u540E" aria-hidden="true">#</a> \u4E3A\u4F55\u8981\u628A JS \u653E\u5728 body \u6700\u540E</h3>',4),yn=c(`<h3 id="window-onload\u548Cdomcontentloaded\u533A\u522B" tabindex="-1"><a class="header-anchor" href="#window-onload\u548Cdomcontentloaded\u533A\u522B" aria-hidden="true">#</a> <code>window.onload</code>\u548C<code>DOMContentLoaded</code>\u533A\u522B</h3><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>window<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">&#39;load&#39;</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// \u9875\u9762\u7684\u5168\u90E8\u8D44\u6E90\u52A0\u8F7D\u5B8C\u624D\u4F1A\u6267\u884C\uFF0C\u5305\u62EC\u56FE\u7247\u3001\u89C6\u9891\u7B49</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
document<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">&#39;DOMContentLoaded&#39;</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// DOM \u6E32\u67D3\u5B8C\u5373\u53EF\u6267\u884C\uFF0C\u6B64\u65F6\u56FE\u7247\u3001\u89C6\u9891\u8FD8\u53EF\u80FD\u6CA1\u6709\u52A0\u8F7D\u5B8C</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,2),wn=s(" ## \u6027\u80FD\u4F18\u5316 - \u539F\u5219 - \u591A\u4F7F\u7528\u5185\u5B58\u3001\u7F13\u5B58\u6216\u8005\u5176\u4ED6\u65B9\u6CD5 - \u51CF\u5C11 CPU \u8BA1\u7B97\u3001\u8F83\u5C11\u7F51\u7EDC "),xn={id:"\u52A0\u8F7D\u8D44\u6E90\u4F18\u5316",tabindex:"-1"},qn=n("a",{class:"header-anchor",href:"#\u52A0\u8F7D\u8D44\u6E90\u4F18\u5316","aria-hidden":"true"},"#",-1),Tn=s(),Sn=s("\u52A0\u8F7D\u8D44\u6E90\u4F18\u5316"),jn=c('<ul><li>\u9759\u6001\u8D44\u6E90\u7684\u538B\u7F29\u5408\u5E76\uFF08JS\u4EE3\u7801\u538B\u7F29\u5408\u5E76\u3001CSS\u4EE3\u7801\u538B\u7F29\u5408\u5E76\u3001\u96EA\u78A7\u56FE\uFF09</li><li>\u9759\u6001\u8D44\u6E90\u7F13\u5B58\uFF08\u8D44\u6E90\u540D\u79F0\u52A0 MD5 \u6233\uFF09</li><li>\u4F7F\u7528 CND \u8BA9\u8D44\u6E90\u52A0\u8F7D\u66F4\u5FEB</li><li>\u4F7F\u7528 SSR \u540E\u7AEF\u6E32\u67D3\uFF0C\u6570\u636E\u76F4\u63A5\u7A81\u51FA\u5230 HTML \u4E2D</li></ul><ol start="3"><li>\u5408\u5E76\u8BF7\u6C42\uFF1AnginxMok ,sprite\u96EA\u78A7\u56FE</li><li>\u7F13\u5B58 from cache(memory,disk) localstorage \u672C\u5730\u7F13\u5B58\u7B56\u7565\u4F18\u5316 HTTP\u5934\u7684\u7F13\u5B58cache-control:max-age-60</li><li>tcp\u7F51\u7EDC\u8FDE\u63A5\u4F18\u5316\uFF0Ctcp\u8C03\u4F18 http/2 keep-alive</li><li>\u786C\u4EF6 \u52A0\u5927\u5E26\u5BBD \u4F7F\u7528cdn(\u5BF9\u8C61\u5B58\u50A8)</li><li>\u8D44\u6E90\u5927\u5C0F\uFF1Agzip,webp,image\u538B\u7F29\uFF0Ccookie\u4F53\u79EF\u51CF\u5C0F</li><li>\u9884\u52A0\u8F7D\uFF1Adns\u9884\u89E3\u6790,\u591A\u4E2Acdn\u57DF\u540D,\u5F02\u6B65\u8BFB\u53D6js(defer async)</li></ol>',2),Cn={id:"\u6E32\u67D3\u4F18\u5316",tabindex:"-1"},En=n("a",{class:"header-anchor",href:"#\u6E32\u67D3\u4F18\u5316","aria-hidden":"true"},"#",-1),Ln=s(),Pn=s("\u6E32\u67D3\u4F18\u5316"),Mn=c(`<ul><li>CSS \u653E\u524D\u9762 JS \u653E\u540E\u9762</li><li>\u5C3D\u65E9\u6267\u884C\u64CD\u4F5C\uFF08<code>DOMContentLoaded</code>\uFF09</li><li>\u61D2\u52A0\u8F7D\uFF08\u56FE\u7247\u61D2\u52A0\u8F7D\u3001\u4E0B\u62C9\u52A0\u8F7D\u66F4\u591A\uFF09</li><li>\u51CF\u5C11DOM \u67E5\u8BE2\uFF0C\u5BF9 DOM \u67E5\u8BE2\u505A\u7F13\u5B58</li><li>\u51CF\u5C11DOM \u64CD\u4F5C\uFF0C\u591A\u4E2A\u64CD\u4F5C\u5C3D\u91CF\u5408\u5E76\u5728\u4E00\u8D77\u6267\u884C\uFF08<code>DocumentFragment</code>\uFF09</li><li>\u4E8B\u4EF6\u8282\u6D41</li></ul><h3 id="\u8BE6\u7EC6\u89E3\u8BF4" tabindex="-1"><a class="header-anchor" href="#\u8BE6\u7EC6\u89E3\u8BF4" aria-hidden="true">#</a> \u8BE6\u7EC6\u89E3\u8BF4</h3><h4 id="\u9759\u6001\u8D44\u6E90\u7684\u538B\u7F29\u5408\u5E76" tabindex="-1"><a class="header-anchor" href="#\u9759\u6001\u8D44\u6E90\u7684\u538B\u7F29\u5408\u5E76" aria-hidden="true">#</a> \u9759\u6001\u8D44\u6E90\u7684\u538B\u7F29\u5408\u5E76</h4><p>\u5982\u679C\u4E0D\u5408\u5E76\uFF0C\u6BCF\u4E2A\u90FD\u4F1A\u8D70\u4E00\u904D\u4E4B\u524D\u4ECB\u7ECD\u7684\u8BF7\u6C42\u8FC7\u7A0B</p><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>a.js<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>b.js<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>c.js<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u5982\u679C\u538B\u7F29\u4E86\uFF0C\u5C31\u53EA\u8D70\u4E00\u904D\u8BF7\u6C42\u8FC7\u7A0B</p><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>abc.js<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h4 id="\u9759\u6001\u8D44\u6E90\u7F13\u5B58" tabindex="-1"><a class="header-anchor" href="#\u9759\u6001\u8D44\u6E90\u7F13\u5B58" aria-hidden="true">#</a> \u9759\u6001\u8D44\u6E90\u7F13\u5B58</h4><p>\u901A\u8FC7\u8FDE\u63A5\u540D\u79F0\u63A7\u5236\u7F13\u5B58</p><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>abc_1.js<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>\u53EA\u6709\u5185\u5BB9\u6539\u53D8\u7684\u65F6\u5019\uFF0C\u94FE\u63A5\u540D\u79F0\u624D\u4F1A\u6539\u53D8</p><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>abc_2.js<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h4 id="\u4F7F\u7528-cnd-\u8BA9\u8D44\u6E90\u52A0\u8F7D\u66F4\u5FEB" tabindex="-1"><a class="header-anchor" href="#\u4F7F\u7528-cnd-\u8BA9\u8D44\u6E90\u52A0\u8F7D\u66F4\u5FEB" aria-hidden="true">#</a> \u4F7F\u7528 CND \u8BA9\u8D44\u6E90\u52A0\u8F7D\u66F4\u5FEB</h4><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>https://cdn.bootcss.com/zepto/1.0rc1/zepto.min.js<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h4 id="\u4F7F\u7528-ssr-\u540E\u7AEF\u6E32\u67D3" tabindex="-1"><a class="header-anchor" href="#\u4F7F\u7528-ssr-\u540E\u7AEF\u6E32\u67D3" aria-hidden="true">#</a> \u4F7F\u7528 SSR \u540E\u7AEF\u6E32\u67D3</h4><p>\u5982\u679C\u63D0\u5230 Vue \u548C React \u65F6\uFF0C\u53EF\u4EE5\u8BF4\u4E00\u4E0B</p><h4 id="css-\u653E\u524D\u9762-js-\u653E\u540E\u9762" tabindex="-1"><a class="header-anchor" href="#css-\u653E\u524D\u9762-js-\u653E\u540E\u9762" aria-hidden="true">#</a> CSS \u653E\u524D\u9762 JS \u653E\u540E\u9762</h4><p>\u5C06\u6D4F\u89C8\u5668\u6E32\u67D3\u7684\u65F6\u5019\uFF0C\u5DF2\u7ECF\u63D0\u9AD8</p><h4 id="\u61D2\u52A0\u8F7D" tabindex="-1"><a class="header-anchor" href="#\u61D2\u52A0\u8F7D" aria-hidden="true">#</a> \u61D2\u52A0\u8F7D</h4><p>\u4E00\u5F00\u59CB\u5148\u7ED9\u4E3A src \u8D4B\u503C\u6210\u4E00\u4E2A\u901A\u7528\u7684\u9884\u89C8\u56FE\uFF0C\u4E0B\u62C9\u65F6\u5019\u518D\u52A8\u6001\u8D4B\u503C\u6210\u6B63\u5F0F\u7684\u56FE\u7247</p><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>preview.png<span class="token punctuation">&quot;</span></span> <span class="token attr-name">data-realsrc</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>abc.png<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h4 id="dom-\u67E5\u8BE2\u505A\u7F13\u5B58" tabindex="-1"><a class="header-anchor" href="#dom-\u67E5\u8BE2\u505A\u7F13\u5B58" aria-hidden="true">#</a> DOM \u67E5\u8BE2\u505A\u7F13\u5B58</h4><p>\u4E24\u7AEF\u4EE3\u7801\u505A\u4E00\u4E0B\u5BF9\u6BD4</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">var</span> pList <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementsByTagName</span><span class="token punctuation">(</span><span class="token string">&#39;p&#39;</span><span class="token punctuation">)</span>
<span class="token keyword">var</span> i
<span class="token keyword">for</span> <span class="token punctuation">(</span>i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> pList<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">var</span> i
<span class="token keyword">for</span> <span class="token punctuation">(</span>i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> document<span class="token punctuation">.</span><span class="token function">getElementsByTagName</span><span class="token punctuation">(</span><span class="token string">&#39;p&#39;</span><span class="token punctuation">)</span><span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u603B\u7ED3\uFF1ADOM \u64CD\u4F5C\uFF0C\u65E0\u8BBA\u67E5\u8BE2\u8FD8\u662F\u4FEE\u6539\uFF0C\u90FD\u662F\u975E\u5E38\u8017\u8D39\u6027\u80FD\u7684\uFF0C\u5C3D\u91CF\u51CF\u5C11</p><h4 id="\u5408\u5E76-dom-\u63D2\u5165" tabindex="-1"><a class="header-anchor" href="#\u5408\u5E76-dom-\u63D2\u5165" aria-hidden="true">#</a> \u5408\u5E76 DOM \u63D2\u5165</h4><p>DOM \u64CD\u4F5C\u662F\u975E\u5E38\u8017\u8D39\u6027\u80FD\u7684\uFF0C\u56E0\u6B64\u63D2\u5165\u591A\u4E2A\u6807\u7B7E\u65F6\uFF0C\u5148\u63D2\u5165 Fragment \u7136\u540E\u518D\u7EDF\u4E00\u63D2\u5165DOM</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">var</span> listNode <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&#39;list&#39;</span><span class="token punctuation">)</span>
<span class="token comment">// \u8981\u63D2\u5165 10 \u4E2A li \u6807\u7B7E</span>
<span class="token keyword">var</span> frag <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createDocumentFragment</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> x<span class="token punctuation">,</span> li<span class="token punctuation">;</span>
<span class="token keyword">for</span><span class="token punctuation">(</span>x <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> x <span class="token operator">&lt;</span> <span class="token number">10</span><span class="token punctuation">;</span> x<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    li <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">&quot;li&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    li<span class="token punctuation">.</span>innerHTML <span class="token operator">=</span> <span class="token string">&quot;List item &quot;</span> <span class="token operator">+</span> x<span class="token punctuation">;</span>
    frag<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>li<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
listNode<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>frag<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,29),Dn=n("h4",{id:"\u9632\u6296\u548C\u8282\u6D41",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#\u9632\u6296\u548C\u8282\u6D41","aria-hidden":"true"},"#"),s(" \u9632\u6296\u548C\u8282\u6D41")],-1),On=n("li",null,"\u9632\u6296\u548C\u8282\u6D41\u7684\u4F5C\u7528\u90FD\u662F\u9632\u6B62\u51FD\u6570\u591A\u6B21\u8C03\u7528\u3002\u533A\u522B\u5728\u4E8E\uFF0C\u5047\u8BBE\u4E00\u4E2A\u7528\u6237\u4E00\u76F4\u89E6\u53D1\u8FD9\u4E2A\u51FD\u6570\uFF0C\u4E14\u6BCF\u6B21\u89E6\u53D1\u51FD\u6570\u7684\u95F4\u9694\u5C0F\u4E8Ewait\uFF0C\u9632\u6296\u7684\u60C5\u51B5\u4E0B\u53EA\u4F1A\u8C03\u7528\u4E00\u6B21\uFF0C\u800C\u8282\u6D41\u7684\u60C5\u51B5\u4F1A\u6BCF\u9694\u4E00\u5B9A\u65F6\u95F4\uFF08\u53C2\u6570wait\uFF09\u8C03\u7528\u51FD\u6570\u3002",-1),In=s("\u9632\u6296(debounce)"),Rn=s(" - "),Hn=s("\u8BA9\u67D0\u4E2A\u65F6\u95F4\u671F\u9650\uFF08\u5982\u4E0A\u9762\u76841000\u6BEB\u79D2\uFF09\u5185\uFF0C\u4E8B\u4EF6\u5904\u7406\u51FD\u6570\u53EA\u6267\u884C\u6700\u540E\u4E00\u6B21"),Xn=s(" - underscore\u7684debounce\u65B9\u6CD5 \u677E\u624B\u540E\u9694\u4F1A\u518D\u6267\u884C "),Nn=c(`<div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">var</span> textarea <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&#39;text&#39;</span><span class="token punctuation">)</span>
<span class="token keyword">var</span> timeoutId
textarea<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">&#39;keyup&#39;</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>timeoutId<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token function">clearTimeout</span><span class="token punctuation">(</span>timeoutId<span class="token punctuation">)</span><span class="token comment">// \u5982\u679C\u6709\u8FDE\u7EED\u52A8\u4F5C\uFF0C\u90A3\u53D6\u6D88\u6267\u884C\u3002\u76F4\u52301s\u5185\u6CA1\u6709\u7B2C\u4E8C\u6B21\u70B9\u51FB\uFF0C\u624D\u4E0D\u4F1A\u53D6\u6D88\u6267\u884C\u3002</span>
    <span class="token punctuation">}</span>
    timeoutId <span class="token operator">=</span> <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;\u5185\u5BB9\u4FEE\u6539\u4E86&#39;</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token comment">// debounce</span>
<span class="token keyword">function</span> <span class="token function">debounce</span><span class="token punctuation">(</span><span class="token parameter">func<span class="token punctuation">,</span>wait<span class="token punctuation">,</span>immediate</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token keyword">let</span> timeout<span class="token punctuation">;</span>
  <span class="token keyword">return</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token function">clearTimeout</span><span class="token punctuation">(</span>timeout<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>immediate<span class="token punctuation">)</span><span class="token punctuation">{</span>
      <span class="token keyword">let</span> callNow<span class="token operator">=</span><span class="token operator">!</span>timeout<span class="token punctuation">;</span>
      <span class="token keyword">if</span><span class="token punctuation">(</span>callNow<span class="token punctuation">)</span> <span class="token function">func</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span>arguments<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    timeout<span class="token operator">=</span><span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
      <span class="token function">func</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span>arguments<span class="token punctuation">)</span><span class="token punctuation">;</span>
      timeout<span class="token operator">=</span><span class="token keyword">null</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>wait<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">logger</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;logger&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">// \u7B2C\u4E09\u4E2A\u53C2\u6570\u8868\u793A\u9996\u6B21\u70B9\u51FB\u6709\u6548\u679C\uFF0C\u4E4B\u540E\u5C31\u6CA1\u6548\u679C\u4E86</span>
btn<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">&#39;click&#39;</span><span class="token punctuation">,</span><span class="token function">debounce</span><span class="token punctuation">(</span>logger<span class="token punctuation">,</span><span class="token number">1000</span><span class="token punctuation">,</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,1),Un=s("\u8282\u6D41(Throttle)"),Bn=s(" - "),Fn=s("\u4E00\u6BB5\u65F6\u95F4\u5185\uFF0C\u4EE3\u7801\u53EA\u6267\u884C\u4E00\u6B21\u3002"),Gn=s(" - \u6267\u884C\u4E00\u6B21\u540E\uFF0C\u6682\u65F6\u5931\u6548\uFF0C\u8FC7\u4E86\u4E00\u6BB5\u65F6\u95F4\u540E\u518D\u91CD\u65B0\u6FC0\u6D3B - underscore\u5E93\u4E2D\u7684throttle\u65B9\u6CD5 "),Wn=c(`<div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">var</span> textarea <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&#39;text&#39;</span><span class="token punctuation">)</span>
<span class="token keyword">var</span> valid <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span><span class="token comment">// \u4E8B\u4EF6\u529F\u80FD\u6709\u6548</span>
textarea<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">&#39;keyup&#39;</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>valid<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    valid <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span><span class="token comment">// \u4E8B\u4EF6\u529F\u80FD\u5931\u6548</span>
    timeoutId <span class="token operator">=</span> <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;\u5185\u5BB9\u4FEE\u6539\u4E86&#39;</span><span class="token punctuation">)</span>
        valid <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span><span class="token comment">// \u4E8B\u4EF6\u529F\u80FD\u6709\u6548</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token comment">// \u8282\u6D41</span>
<span class="token keyword">let</span> btn<span class="token operator">=</span>document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&#39;btn&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// \u95EE\u9898\uFF1A\u6700\u540E\u4E00\u6B21\u4E0D\u80FD\u89E6\u53D1\uFF0C\u4F46\u5E0C\u671B\u6700\u540E\u4E00\u6B21\u53EF\u4EE5\u89E6\u53D1</span>
<span class="token comment">// function throttle(func,wait){</span>
<span class="token comment">//   let previous=0;</span>
<span class="token comment">//   return function (){</span>
<span class="token comment">//     let now=Date.now();</span>
<span class="token comment">//     if(now-previous&gt;wait){</span>
<span class="token comment">//       func.apply(this,arguments);</span>
<span class="token comment">//       previous=now;</span>
<span class="token comment">//     }</span>
<span class="token comment">//   }</span>
<span class="token comment">// }</span>

<span class="token keyword">function</span> <span class="token function">throttle</span><span class="token punctuation">(</span><span class="token parameter">func<span class="token punctuation">,</span>wait<span class="token punctuation">,</span>options</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token comment">// trailing\u6700\u540E\u4E00\u6B21\u5E94\u8BE5\u89E6\u53D1\uFF08\u9ED8\u8BA4\u89E6\u53D1\uFF09</span>
  <span class="token keyword">let</span> args<span class="token punctuation">,</span>context<span class="token punctuation">,</span>previous<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">,</span>timeout<span class="token punctuation">;</span>
  <span class="token keyword">let</span> <span class="token function-variable function">later</span><span class="token operator">=</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    previous<span class="token operator">=</span>options<span class="token punctuation">.</span>leading<span class="token operator">===</span><span class="token boolean">false</span><span class="token operator">?</span><span class="token number">0</span><span class="token operator">:</span>Date<span class="token punctuation">.</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">func</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span>context<span class="token punctuation">,</span>args<span class="token punctuation">)</span><span class="token punctuation">;</span>
    args<span class="token operator">=</span>context<span class="token operator">=</span><span class="token keyword">null</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">let</span> <span class="token function-variable function">throttled</span><span class="token operator">=</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    args<span class="token operator">=</span>arguments<span class="token punctuation">;</span>
    context<span class="token operator">=</span><span class="token keyword">this</span><span class="token punctuation">;</span>
    <span class="token keyword">let</span> now<span class="token operator">=</span>Date<span class="token punctuation">.</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span>previous<span class="token operator">&amp;&amp;</span>options<span class="token punctuation">.</span>leading<span class="token operator">===</span><span class="token boolean">false</span><span class="token punctuation">)</span> previous<span class="token operator">=</span>now<span class="token punctuation">;</span>
    <span class="token keyword">let</span> remaning<span class="token operator">=</span>wait<span class="token operator">-</span><span class="token punctuation">(</span>now<span class="token operator">-</span>previous<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>remaining<span class="token operator">&lt;=</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
      <span class="token comment">// \u7B2C\u4E00\u6B21</span>
      <span class="token keyword">if</span><span class="token punctuation">(</span>timeout<span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token function">clearTimeout</span><span class="token punctuation">(</span>timeout<span class="token punctuation">)</span><span class="token punctuation">;</span>
        timeout<span class="token operator">=</span><span class="token keyword">null</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
      <span class="token function">func</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span>context<span class="token punctuation">,</span>args<span class="token punctuation">)</span><span class="token punctuation">;</span>
      previous<span class="token operator">=</span>now<span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token keyword">else</span> <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span>timeout <span class="token operator">&amp;&amp;</span> options<span class="token punctuation">.</span>trailing<span class="token operator">!==</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
      timeout<span class="token operator">=</span><span class="token function">setTimeout</span><span class="token punctuation">(</span>later<span class="token punctuation">,</span>remaning<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">return</span> throttled<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">logger</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;logger&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
btn<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">&#39;click&#39;</span><span class="token punctuation">,</span><span class="token function">throttle</span><span class="token punctuation">(</span>logger<span class="token punctuation">,</span><span class="token number">1000</span><span class="token punctuation">,</span><span class="token punctuation">{</span><span class="token literal-property property">trailing</span><span class="token operator">:</span><span class="token boolean">true</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span>


</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>loadash\u5E93\u4E2D\uFF0C\u5C06\u4E24\u4E2A\u5408\u8D77\u6765\u6210\u4E3A\u4E00\u4E2A</li></ul><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>./debounce.js<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>./throttle.js<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>btn<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>\u70B9\u51FB<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
    <span class="token keyword">function</span> <span class="token function">logger</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;logger&#39;</span><span class="token punctuation">,</span>e<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token comment">// \u7B2C\u4E09\u4E2A\u53C2\u6570 \u8868\u793A\u9996\u6B21 \u5148\u89E6\u53D1\u4E00\u4E0B</span>
    btn<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">&#39;click&#39;</span><span class="token punctuation">,</span> <span class="token function">throttle</span><span class="token punctuation">(</span>logger<span class="token punctuation">,</span><span class="token number">1000</span><span class="token punctuation">,</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  </span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// debounce.js</span>
<span class="token comment">// \u9632\u6296 + \u8282\u6D41</span>
<span class="token comment">// debounce \u5C31\u662F\u4E0A\u6765\u540E \u5148\u5F00\u4E00\u4E2A\u5B9A\u65F6 \u53EA\u8981\u4E00\u76F4\u70B9\u51FB  \u5230\u65F6\u95F4\u4EC0\u4E48\u90FD\u4E0D\u505A \u5C31\u5728\u5F00\u4E00\u4E2A\u5B9A\u65F6\u5668</span>
<span class="token keyword">function</span> <span class="token function">debounce</span><span class="token punctuation">(</span><span class="token parameter">func<span class="token punctuation">,</span> wait<span class="token punctuation">,</span> opts <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> maxWait<span class="token punctuation">;</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token string">&#39;maxWait&#39;</span> <span class="token keyword">in</span> opts<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    maxWait <span class="token operator">=</span> opts<span class="token punctuation">.</span>maxWait<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">let</span> leading <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span> <span class="token comment">// \u7B2C\u4E00\u6B21\u70B9\u51FB\u65F6\u89E6\u53D1</span>
  <span class="token keyword">let</span> trailing <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span> <span class="token comment">// \u6700\u540E\u4E00\u6B21\u4E5F\u8981\u89E6\u53D1</span>
  <span class="token comment">// loadash \u5B9A\u65F6\u5668\u5B9E\u73B0\u7684</span>
  <span class="token keyword">let</span> lastCallTime<span class="token punctuation">;</span> <span class="token comment">// \u6700\u540E\u8C03\u7528\u7684\u65F6\u95F4 previous</span>
  <span class="token keyword">let</span> timeout<span class="token punctuation">;</span>
  <span class="token keyword">let</span> lastThis<span class="token punctuation">;</span> <span class="token comment">// \u8FD4\u56DE\u51FD\u6570\u7684this</span>
  <span class="token keyword">let</span> lastArgs<span class="token punctuation">;</span> <span class="token comment">// \u8FD4\u56DE\u51FD\u6570\u7684\u53C2\u6570</span>
  <span class="token comment">// shouldInvoke \u662F\u5426\u5E94\u8BE5\u8C03\u7528</span>
  <span class="token keyword">let</span> lastInvokeTime<span class="token punctuation">;</span>
  <span class="token keyword">let</span> <span class="token function-variable function">shouldInvoke</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">now</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> sinceLastTime <span class="token operator">=</span> now <span class="token operator">-</span> lastCallTime<span class="token punctuation">;</span>
    <span class="token keyword">let</span> sinceLastInvoke <span class="token operator">=</span> now <span class="token operator">-</span> lastInvokeTime<span class="token punctuation">;</span>
    <span class="token comment">// \u7B2C\u4E00\u6B21</span>
    <span class="token keyword">return</span> lastCallTime <span class="token operator">===</span> <span class="token keyword">undefined</span> <span class="token operator">||</span> sinceLastTime <span class="token operator">&gt;</span> wait <span class="token operator">||</span> sinceLastInvoke <span class="token operator">&gt;=</span> maxWait<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token comment">// leadingEdge \u662F\u5426\u7B2C\u4E00\u6B21\u6267\u884C</span>
  <span class="token keyword">let</span> <span class="token function-variable function">invokeFunc</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">time</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    lastInvokeTime <span class="token operator">=</span> time<span class="token punctuation">;</span> <span class="token comment">// \u6700\u7EC8\u7684\u8C03\u7528\u51FD\u6570\u7684\u65F6\u95F4</span>
    <span class="token function">func</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span>lastThis<span class="token punctuation">,</span> lastArgs<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token comment">// startTimer\u5C31\u662F\u5F00\u542F\u4E86\u4E00\u4E2A\u5B9A\u65F6\u5668</span>
  <span class="token keyword">let</span> <span class="token function-variable function">startTimer</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">timerExpired<span class="token punctuation">,</span> wait</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    timeout <span class="token operator">=</span> <span class="token function">setTimeout</span><span class="token punctuation">(</span>timerExpired<span class="token punctuation">,</span> wait<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">let</span> <span class="token function-variable function">remainingWait</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">now</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> wait <span class="token operator">-</span> <span class="token punctuation">(</span>now <span class="token operator">-</span> lastCallTime<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">let</span> <span class="token function-variable function">trailingEdge</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">time</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    timeout <span class="token operator">=</span> <span class="token keyword">undefined</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>trailing<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token function">invokeFunc</span><span class="token punctuation">(</span>time<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">let</span> <span class="token function-variable function">timerExpired</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> now <span class="token operator">=</span> Date<span class="token punctuation">.</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// \u5F53\u524D\u5B9A\u65F6\u5668\u5230\u65F6\u95F4\u4E86 \u770B\u770B\u662F\u5426\u9700\u8981\u6267\u884C\u8FD9\u4E2A\u51FD\u6570</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">shouldInvoke</span><span class="token punctuation">(</span>now<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">// \u5982\u679C\u9700\u8981\u8C03\u7528</span>
      <span class="token comment">// \u89E6\u53D1\u7ED3\u675F\u7684\u65B9\u6CD5</span>
      <span class="token keyword">return</span> <span class="token function">trailingEdge</span><span class="token punctuation">(</span>now<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token function">startTimer</span><span class="token punctuation">(</span>timerExpired<span class="token punctuation">,</span> <span class="token function">remainingWait</span><span class="token punctuation">(</span>now<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">let</span> <span class="token function-variable function">leadingEdge</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">time</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    lastInvokeTime <span class="token operator">=</span> time<span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>leading<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">// \u9700\u8981\u6267\u884C\u5C31\u8C03\u7528\u51FD\u6570</span>
      <span class="token function">invokeFunc</span><span class="token punctuation">(</span>time<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    <span class="token function">startTimer</span><span class="token punctuation">(</span>timerExpired<span class="token punctuation">,</span> wait<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// \u5F00\u542F\u4E00\u4E2A\u5B9A\u65F6\u5668 \u770B\u4E0B\u4E00\u6B21\u5B9A\u65F6\u5668\u5230\u4E86 \u662F\u5426\u9700\u8981\u6267\u884Cfunc</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">let</span> <span class="token function-variable function">debounced</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token operator">...</span>args</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    lastThis <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">;</span>
    lastArgs <span class="token operator">=</span> args<span class="token punctuation">;</span>
    <span class="token keyword">let</span> now <span class="token operator">=</span> Date<span class="token punctuation">.</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// \u5224\u65AD\u5F53\u524D\u7684debounce\u65F6\u662F\u5426\u9700\u8981\u6267\u884C</span>
    <span class="token keyword">let</span> isInvoking <span class="token operator">=</span> <span class="token function">shouldInvoke</span><span class="token punctuation">(</span>now<span class="token punctuation">)</span><span class="token punctuation">;</span>
    lastCallTime <span class="token operator">=</span> now<span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>isInvoking<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>timeout <span class="token operator">===</span> <span class="token keyword">undefined</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token function">leadingEdge</span><span class="token punctuation">(</span>now<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">return</span> debounced<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// throttle.js</span>
<span class="token keyword">function</span> <span class="token function">throttle</span><span class="token punctuation">(</span><span class="token parameter">func<span class="token punctuation">,</span>wait</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token function">debounce</span><span class="token punctuation">(</span>func<span class="token punctuation">,</span> wait<span class="token punctuation">,</span><span class="token punctuation">{</span> <span class="token comment">// maxWait\u6700\u5927\u7684\u70B9\u51FB\u65F6\u95F4</span>
    <span class="token literal-property property">maxWait</span><span class="token operator">:</span>wait
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span> <span class="token special-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token value css language-css"><span class="token property">height</span><span class="token punctuation">:</span>20000000px</span><span class="token punctuation">&quot;</span></span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
    <span class="token keyword">let</span> flag <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
    <span class="token keyword">function</span> <span class="token function">scroll</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span>flag<span class="token punctuation">)</span><span class="token punctuation">{</span>
        flag <span class="token operator">=</span> <span class="token boolean">true</span>
        <span class="token function">requestAnimationFrame</span><span class="token punctuation">(</span>loggeer<span class="token punctuation">)</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">function</span> <span class="token function">loggeer</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;logger&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      flag <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    window<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">&#39;scroll&#39;</span><span class="token punctuation">,</span>scroll<span class="token punctuation">)</span>
    </span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,6),An=c(` - \u5E94\u7528 - \u641C\u7D22\u6846input\u4E8B\u4EF6\uFF0C\u4F8B\u5982\u8981\u652F\u6301\u8F93\u5165\u5B9E\u65F6\u641C\u7D22\u53EF\u4EE5\u4F7F\u7528\u8282\u6D41\u65B9\u6848\uFF08\u95F4\u9694\u4E00\u6BB5\u65F6\u95F4\u5C31\u5FC5\u987B\u67E5\u8BE2\u76F8\u5173\u5185\u5BB9\uFF09\uFF0C\u6216\u8005\u5B9E\u73B0\u8F93\u5165\u95F4\u9694\u5927\u4E8E\u67D0\u4E2A\u503C\uFF08\u5982500ms\uFF09\uFF0C\u5C31\u5F53\u505A\u7528\u6237\u8F93\u5165\u5B8C\u6210\uFF0C\u7136\u540E\u5F00\u59CB\u641C\u7D22\uFF0C\u5177\u4F53\u4F7F\u7528\u54EA\u79CD\u65B9\u6848\u8981\u770B\u4E1A\u52A1\u9700\u6C42\u3002 - \u9875\u9762resize\u4E8B\u4EF6\uFF0C\u5E38\u89C1\u4E8E\u9700\u8981\u505A\u9875\u9762\u9002\u914D\u7684\u65F6\u5019\u3002\u9700\u8981\u6839\u636E\u6700\u7EC8\u5448\u73B0\u7684\u9875\u9762\u60C5\u51B5\u8FDB\u884Cdom\u6E32\u67D3\uFF08\u8FD9\u79CD\u60C5\u5F62\u4E00\u822C\u662F\u4F7F\u7528\u9632\u6296\uFF0C\u56E0\u4E3A\u53EA\u9700\u8981\u5224\u65AD\u6700\u540E\u4E00\u6B21\u7684\u53D8\u5316\u60C5\u51B5\uFF09 #### \u5C3D\u65E9\u6267\u884C\u64CD\u4F5C <div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>window<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">&#39;load&#39;</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// \u9875\u9762\u7684\u5168\u90E8\u8D44\u6E90\u52A0\u8F7D\u5B8C\u624D\u4F1A\u6267\u884C\uFF0C\u5305\u62EC\u56FE\u7247\u3001\u89C6\u9891\u7B49</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
document<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">&#39;DOMContentLoaded&#39;</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// DOM \u6E32\u67D3\u5B8C\u5373\u53EF\u6267\u884C\uFF0C\u6B64\u65F6\u56FE\u7247\u3001\u89C6\u9891\u8FD8\u53EF\u80FD\u6CA1\u6709\u52A0\u8F7D\u5B8C</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="\u5B89\u5168\u6027" tabindex="-1"><a class="header-anchor" href="#\u5B89\u5168\u6027" aria-hidden="true">#</a> \u5B89\u5168\u6027</h2><h3 id="\u63A8\u8350\u4E66" tabindex="-1"><a class="header-anchor" href="#\u63A8\u8350\u4E66" aria-hidden="true">#</a> \u63A8\u8350\u4E66</h3><ul><li>\u9605\u8BFB\u300A\u767D\u5E3D\u5B50\u8BB2web\u5B89\u5168\u300B</li></ul><h3 id="web-\u653B\u51FB\u65B9\u5F0F" tabindex="-1"><a class="header-anchor" href="#web-\u653B\u51FB\u65B9\u5F0F" aria-hidden="true">#</a> web \u653B\u51FB\u65B9\u5F0F</h3>`,6),Jn=n("li",null,[n("p",null,"SQL\u6CE8\u5165"),n("ul",null,[n("li",null,"\u4F8B\u5982\u505A\u4E00\u4E2A\u7CFB\u7EDF\u7684\u767B\u5F55\u754C\u9762\uFF0C\u8F93\u5165\u7528\u6237\u540D\u548C\u5BC6\u7801\uFF0C\u63D0\u4EA4\u4E4B\u540E\uFF0C\u540E\u7AEF\u76F4\u63A5\u62FF\u5230\u6570\u636E\u5C31\u62FC\u63A5 SQL \u8BED\u53E5\u53BB\u67E5\u8BE2\u6570\u636E\u5E93\u3002\u5982\u679C\u5728\u8F93\u5165\u65F6\u8FDB\u884C\u4E86\u6076\u610F\u7684 SQL \u62FC\u88C5\uFF0C\u90A3\u4E48\u6700\u540E\u751F\u6210\u7684 SQL \u5C31\u4F1A\u6709\u95EE\u9898\u3002\u4F46\u662F\u73B0\u5728\u7A0D\u5FAE\u5927\u578B\u7684\u4E00\u70B9\u7CFB\u7EDF\uFF0C\u90FD\u4E0D\u4F1A\u8FD9\u4E48\u505A\uFF0C\u4ECE\u63D0\u4EA4\u767B\u5F55\u4FE1\u606F\u5230\u6700\u540E\u62FF\u5230\u6388\u6743\uFF0C\u90FD\u7ECF\u8FC7\u5C42\u5C42\u7684\u9A8C\u8BC1\u3002\u56E0\u6B64\uFF0CSQL \u6CE8\u5165\u90FD\u53EA\u51FA\u73B0\u5728\u6BD4\u8F83\u4F4E\u7AEF\u5C0F\u578B\u7684\u7CFB\u7EDF\u4E0A\u3002")])],-1),zn=c(`<p>XSS</p><ul><li>\u57FA\u672C\u6982\u5FF5\u548C\u7F29\u5199 <ul><li>Cross Site Scripting\uFF0C\u3010\u8BB0\u3011\u8DE8\u7AD9\u811A\u672C\u653B\u51FB</li></ul></li><li>\u653B\u51FB\u539F\u7406 <ul><li>\u4E0ECSRF\u533A\u522B\uFF0C\u4E0D\u9700\u8981\u4EFB\u4F55\u9A8C\u8BC1\uFF0C\u901A\u8FC7\u5408\u6CD5\u65B9\u5F0F\u5411\u9875\u9762\u6CE8\u5165js\uFF0C\u6BD4\u5982\u8BC4\u8BBA</li></ul></li><li>\u653B\u51FB\u7C7B\u578B <ul><li>\u53CD\u5C04\u578B <ul><li>\u67E5\u8BE2\u7684\u53C2\u6570\u91CC\u6709\u4EE3\u7801</li><li>\u67E5\u8BE2\u53C2\u6570\u7528encodeURIComponent\u7F16\u8BD1\u5373\u53EF\u3002</li></ul><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// index.js</span>
router<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">&#39;/&#39;</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">req<span class="token punctuation">,</span> res<span class="token punctuation">,</span> next</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// \u5173\u95ED\u6D4F\u89C8\u5668\u7684XSS\u62E6\u622A</span>
  res<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">&#39;X-XSS-Protection&#39;</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">)</span>
  res<span class="token punctuation">.</span><span class="token function">render</span><span class="token punctuation">(</span><span class="token string">&#39;index&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> <span class="token literal-property property">title</span><span class="token operator">:</span> <span class="token string">&#39;Express&#39;</span><span class="token punctuation">,</span><span class="token literal-property property">xss</span><span class="token operator">:</span>req<span class="token punctuation">.</span>query<span class="token punctuation">.</span>xss <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// index.ejs</span>
<span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;&quot;</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">%</span><span class="token operator">-</span> xss <span class="token operator">%</span><span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>

<span class="token comment">// \u7BE1\u6539\u9875\u9762\u5185\u5BB9\uFF0C\u81EA\u52A8\u89E6\u53D1</span>
<span class="token template-string"><span class="token template-punctuation string">\`</span><span class="token string">http://localhost:3000/?xss=&lt;img src=&quot;null&quot; onerror=&quot;alert(1)&quot;/&gt;</span><span class="token template-punctuation string">\`</span></span>
<span class="token comment">// \u7BE1\u6539\u9875\u9762\u5185\u5BB9\uFF0C\u5F15\u8BF1\u89E6\u53D1</span>
<span class="token template-string"><span class="token template-punctuation string">\`</span><span class="token string">http://localhost:3000/?xss=&lt;p onclick=&quot;alert(&#39;\u70B9\u6211&#39;)&quot;&gt;\u70B9\u6211&lt;/p&gt;</span><span class="token template-punctuation string">\`</span></span>
<span class="token comment">// \u7BE1\u6539\u9875\u9762\u5185\u5BB9\uFF0C\u6700\u7B80\u5355\u7684\u5E7F\u544A\u63D2\u5165</span>
<span class="token template-string"><span class="token template-punctuation string">\`</span><span class="token string">http://localhost:3000/?xss=&lt;iframe src=&quot;//baidu.com/t.html&quot;&gt;&lt;/iframe&gt;</span><span class="token template-punctuation string">\`</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li>DOM-Based <ul><li>\u57FA\u4E8E\u540E\u7AEF</li></ul></li><li>\u5B58\u50A8\u578B <ul><li>\u6076\u610F\u811A\u672C\u5B58\u50A8\u5230\u4E86\u670D\u52A1\u5668\u4E0A\uFF0C\u6240\u6709\u4EBA\u8BBF\u95EE\u90FD\u4F1A\u6709\u95EE\u9898\uFF0C\u6BD4\u53CD\u5C04\u6027\u548CDOM-Baseed\u8303\u56F4\u66F4\u5927</li></ul></li></ul></li><li>\u653B\u51FB\u65B9\u5F0F <ul><li>\u76D7\u7528cookie\uFF0C\u83B7\u53D6\u654F\u611F\u4FE1\u606F</li><li>\u7834\u574F\u9875\u9762\u7ED3\u6784\uFF0C\u63D2\u5165\u4E00\u4E9B\u5185\u5BB9</li><li>\u5229\u7528flash\uFF0C\u4E86\u89E3\u5373\u53EF</li><li>DDOS(\u5206\u5E03\u5F0F\u62D2\u7EDD\u670D\u52A1\u653B\u51FB)\uFF0C\u662F\u76EE\u524D\u6700\u4E3A\u5F3A\u5927\u6700\u96BE\u4EE5\u9632\u5FA1\u7684\u653B\u51FB\u65B9\u5F0F\u4E4B\u4E00\u3002 <ul><li>DOS\u653B\u51FB\uFF1A\u5229\u7528\u5408\u7406\u7684\u5BA2\u6237\u7AEF\u8BF7\u6C42\u6765\u5360\u7528\u8FC7\u591A\u7684\u670D\u52A1\u5668\u8D44\u6E90\uFF0C\u4ECE\u800C\u4F7F\u5408\u6CD5\u7528\u6237\u65E0\u6CD5\u5F97\u5230\u670D\u52A1\u5668\u7684\u54CD\u5E94</li><li>DDOS\u662F\u5728\u4F20\u7EDF\u7684DOS\u653B\u51FB\u4E0A\u4EA7\u751F\u7684\u4E00\u7C7B\u653B\u51FB\u65B9\u5F0F</li></ul></li><li>ServerlimitDOS(\u5F53http header\u8FC7\u957F\u7684\u65F6\u5019\uFF0Cweb server\u4F1A\u4EA7\u751F\u4E00\u4E2A400\u6216\u8005\u662F4\u5F00\u5934\u7684\u9519\u8BEF\uFF0C\u5982\u679C\u8FD9\u4E9B\u8D85\u957F\u7684\u6570\u636E\u4FDD\u5B58\u5728cookie\u4E2D\uFF0C\u80FD\u591F\u8BA9\u7528\u6237\u6BCF\u6B21\u8BBF\u95EE\u7684\u65F6\u5019\u9020\u6210http\u5934\u8D85\u957F\uFF0C\u5BFC\u81F4\u4E00\u4E9B\u7528\u6237\u65E0\u6CD5\u8BBF\u95EE\u57DF\u540D)</li></ul></li></ul>`,2),Vn=s(` - \u9632\u5FA1 - \u5BA2\u6237\u7AEF\u4F20\u9012\u7ED9\u670D\u52A1\u5668\u65F6\uFF0C\u9700\u8981\u5148\u6821\u9A8C\u8FC7\u6EE4\u4E00\u4E0B - \u670D\u52A1\u7AEF\u518D\u505A\u4E00\u6B21\u8FC7\u6EE4 - \u76F4\u63A5\u5728\u8F93\u51FA\u7684\u65F6\u5019\u8FC7\u6EE4 \`\`\`js function html_encode(str){ var s=''; if(str.length==0) return ""; s=str.replace(/&/g,"&"); s=s.replace(/\\s/g,"\xA0"); s=s.replace(/\\'/g,"'"); s=s.replace(/\\"/g,"""); s=s.replace(/\\n/g,"`),Qn=n("br",null,null,-1),Kn=s("\"); console.log('s',s) return s; } ``` "),Yn=s("\u8F6C\u4E49"),Zn=n("pre",null,[n("code",null,`- \u5BF9\u7528\u6237\u8F93\u5165\u7684\u6570\u636E\u8FDB\u884CHTML Entity\u8F6C\u4E49\uFF0C\u663E\u793A\u4E3A\u8F6C\u4E49\u5B57\u7B26
<absolute-box>\u4E24\u79CD\u8F6C\u4E49\u5B57\u7B26\u7684\u65B9\u5F0F\uFF1A<br/>1. \u53CD\u659C\u6760\u52A0\u5728\u7279\u5B9A\u7684\u5B57\u7B26\u4E4B\u524D\u8868\u793A\u8F6C\u4E49\u3002<br/>2. \u4F7F\u7528HTML Entity\u8F6C\u4E49\u5B57\u7B26\u4E32</absolute-box>

| \u8F6C\u4E49\u5B57\u7B26 | \u610F\u4E49                                | ASCII\u7801\u503C\uFF08\u5341\u8FDB\u5236\uFF09 |
| -------- | ----------------------------------- | ------------------- |
| \\a       | \u54CD\u94C3(BEL)                           | 007                 |
| \\b       | \u9000\u683C(BS) \uFF0C\u5C06\u5F53\u524D\u4F4D\u7F6E\u79FB\u5230\u524D\u4E00\u5217     | 008                 |
| \\f       | \u6362\u9875(FF)\uFF0C\u5C06\u5F53\u524D\u4F4D\u7F6E\u79FB\u5230\u4E0B\u9875\u5F00\u5934    | 012                 |
| \\n       | \u6362\u884C(LF) \uFF0C\u5C06\u5F53\u524D\u4F4D\u7F6E\u79FB\u5230\u4E0B\u4E00\u884C\u5F00\u5934 | 010                 |
| \\r       | \u56DE\u8F66(CR) \uFF0C\u5C06\u5F53\u524D\u4F4D\u7F6E\u79FB\u5230\u672C\u884C\u5F00\u5934   | 013                 |
| \\t       | \u6C34\u5E73\u5236\u8868(HT) \uFF08\u8DF3\u5230\u4E0B\u4E00\u4E2ATAB\u4F4D\u7F6E\uFF09  | 009                 |
| \\v       | \u5782\u76F4\u5236\u8868(VT)                        | 011                 |
| \\\\       | \u4EE3\u8868\u4E00\u4E2A\u53CD\u659C\u7EBF\u5B57\u7B26''\\'              | 092                 |
| \\'       | \u4EE3\u8868\u4E00\u4E2A\u5355\u5F15\u53F7\uFF08\u6487\u53F7\uFF09\u5B57\u7B26          | 039                 |
| \\"       | \u4EE3\u8868\u4E00\u4E2A\u53CC\u5F15\u53F7\u5B57\u7B26                  | 034                 |
| \\?       | \u4EE3\u8868\u4E00\u4E2A\u95EE\u53F7                        | 063                 |
| \\0       | \u7A7A\u5B57\u7B26(NUL)                         | 000                 |
| \\ddd     | 1\u52303\u4F4D\u516B\u8FDB\u5236\u6570\u6240\u4EE3\u8868\u7684\u4EFB\u610F\u5B57\u7B26      | \u4E09\u4F4D\u516B\u8FDB\u5236          |
| \\xhh     | \u5341\u516D\u8FDB\u5236\u6240\u4EE3\u8868\u7684\u4EFB\u610F\u5B57\u7B26            | \u5341\u516D\u8FDB\u5236            |
`)],-1),$n={class:"custom-container tip"},ns=n("p",{class:"custom-container-title"},"HTML Entity",-1),ss=n("p",null,"\u4E00\u4E2AHTML \u5B9E\u4F53 \u662F\u4E00\u6BB5\u6587\u672C\uFF08\u201C\u4E32\u201D\uFF09\uFF0C\u4EE5\u4E0E\u7B26\u53F7\uFF08\u5F00\u59CB&\uFF09\u548C\u7ED3\u675F\u7528\u5206\u53F7\uFF08;\uFF09\u3002\u5B9E\u4F53\u901A\u5E38\u7528\u4E8E\u663E\u793A\u4FDD\u7559\u5B57\u7B26\uFF08\u5426\u5219\u5C06\u88AB\u89E3\u91CA\u4E3AHTML\u4EE3\u7801\uFF09\u548C\u4E0D\u53EF\u89C1\u5B57\u7B26\uFF08\u4F8B\u5982\u4E0D\u95F4\u65AD\u7A7A\u683C\uFF09\u3002",-1),as=n("pre",null,[n("code",null,`  |\u5B57\u7B26|\u5B9E\u4F53|HTML\u5B9E\u4F53\u540D\u79F0|\u6CE8\u610F|
  |:---:|:---:|:---:|
  |     "      | \\&quot; |\u89E3\u91CA\u4E3A\u5C5E\u6027\u503C\u7684\u5F00\u59CB\u548C\u7ED3\u675F\u3002|
  |     &      | \\&amp;  |\u89E3\u91CA\u4E3A\u5B9E\u4F53\u6216\u5B57\u7B26\u5F15\u7528\u7684\u5F00\u59CB\u3002|
  |     <      |  \\&lt;  |\u89E3\u91CA\u4E3A\u6807\u7B7E\u7684\u5F00\u5934|
  |     >      |  \\&gt;  |\u89E3\u91CA\u4E3A\u6807\u7B7E\u7684\u7ED3\u5C3E|
  | \u4E0D\u65AD\u5F00\u7A7A\u683C   | \\&nbsp; ||
`)],-1),ts={href:"https://html.spec.whatwg.org/multipage/named-characters.html#named-character-references",target:"_blank",rel:"noopener noreferrer"},ps=s("HTML\u4FDD\u7559\u5B57\u7B26\u5217\u8868"),es=s("\u8FC7\u6EE4"),os=n("pre",null,[n("code",null,`- \u79FB\u9664\u7528\u6237\u4E0A\u4F20\u7684DOM\u5C5E\u6027\uFF0C\u5982onerror\u7B49
- \u79FB\u9664\u7528\u6237\u4E0A\u4F20\u7684Style\u8282\u70B9\u3001Script\u8282\u70B9\u3001Iframe\u8282\u70B9\u7B49\u3002
`)],-1),cs={start:"2"},ls=s("\u6821\u6B63"),is=n("pre",null,[n("code",null,`- \u907F\u514D\u76F4\u63A5\u5BF9HTML Entity\u89E3\u7801
- \u4F7F\u7528DOM Parse\u8F6C\u6362\uFF0C\u77EB\u6B63\u4E0D\u914D\u5BF9\u7684DOM\u6807\u7B7E
`)],-1),us=n("ul",null,[n("li",null,"\u5B9E\u6218"),n("li",null,[s("\u63D2\u4EF6\u5E93 "),n("ul",null,[n("li",null,"encode.js\uFF1A\u53EF\u4EE5\u4F7F\u7528https://github.com/mathiasbynens/he \u4E2D\u7684he.js"),n("li",null,"domParse\uFF1A\u53EF\u4EE5\u7528https://github.com/blowsie/Pure-JavaScript-HTML5-Parser \u4E2D\u7684htmlparser.js")])])],-1),rs=c(`<div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code>// \u901A\u8FC7\u6784\u5EFANode\u670D\u52A1\u548C\u7B80\u5386\u4E00\u4E2A\u8BC4\u8BBA\u529F\u80FD\uFF0C\u5B9E\u4F8B\u6F14\u793AXSS\u7684\u653B\u51FB\u53CA\u9884\u9632
// index.ejs
<span class="token doctype"><span class="token punctuation">&lt;!</span><span class="token doctype-tag">DOCTYPE</span> <span class="token name">html</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">&gt;</span></span>&lt;%= title %&gt;<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>link</span> <span class="token attr-name">rel</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&#39;</span>stylesheet<span class="token punctuation">&#39;</span></span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&#39;</span>/stylesheets/style.css<span class="token punctuation">&#39;</span></span> <span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>/javascripts/encode.js<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>/javascripts/domParse.js<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
      <span class="token keyword">var</span> <span class="token function-variable function">parse</span><span class="token operator">=</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">str</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">var</span> results<span class="token operator">=</span><span class="token string">&#39;&#39;</span><span class="token punctuation">;</span>
        <span class="token keyword">try</span><span class="token punctuation">{</span>
          <span class="token comment">// \u5148\u53CD\u8F6C\u4E49\uFF08\u89E3\u7801\uFF09\uFF0C\u518Ddomparse</span>
          <span class="token function">HTMLParser</span><span class="token punctuation">(</span>he<span class="token punctuation">.</span><span class="token function">unescape</span><span class="token punctuation">(</span>str<span class="token punctuation">,</span><span class="token punctuation">{</span><span class="token literal-property property">strict</span><span class="token operator">:</span><span class="token boolean">true</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">{</span>
            <span class="token function-variable function">start</span><span class="token operator">:</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">tag<span class="token punctuation">,</span>attrs<span class="token punctuation">,</span>unary</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
              <span class="token comment">// \u5F00\u59CB\u6807\u7B7E</span>
              <span class="token comment">// \u3010\u9632xss\u30112. \u8FC7\u6EE4\u5371\u9669\u6807\u7B7E</span>
              <span class="token comment">// style\u6807\u7B7E\u53EF\u63A7\u5236\u5143\u7D20\u662F\u5426\u663E\u793A</span>
              <span class="token comment">// iframe\u901A\u5E38\u7528\u6765\u63D2\u5165\u5E7F\u544A\uFF08\u662F\u8DE8\u57DF\u7684\uFF09</span>
              <span class="token keyword">if</span><span class="token punctuation">(</span>tag<span class="token operator">==</span><span class="token string">&#39;script&#39;</span><span class="token operator">||</span>tag<span class="token operator">==</span><span class="token string">&#39;style&#39;</span><span class="token operator">||</span>tag<span class="token operator">==</span><span class="token string">&#39;link&#39;</span><span class="token operator">||</span>tag<span class="token operator">==</span><span class="token string">&#39;iframe&#39;</span><span class="token punctuation">)</span> <span class="token keyword">return</span><span class="token punctuation">;</span>
              results<span class="token operator">+=</span><span class="token string">&#39;&lt;&#39;</span><span class="token operator">+</span>tag<span class="token punctuation">;</span>
              <span class="token comment">// \u3010\u9632xss\u30113. \u6240\u6709\u5C5E\u6027\u90FD\u4E0D\u6DFB\u52A0\uFF0C\u5373\u53BB\u6389\u4E86onclick onerror\u7B49\u7B49</span>
              <span class="token comment">// for(var i=0,len=attrs.length;i&lt;len;i++){</span>
              <span class="token comment">//   results+=&quot; &quot;+attrs[i].name+&#39;=&quot;&#39;+attrs[i].escaped+&#39;&quot;&#39;;</span>
              <span class="token comment">// }</span>
              results<span class="token operator">+=</span><span class="token punctuation">(</span>unary<span class="token operator">?</span><span class="token string">&quot;/&quot;</span><span class="token operator">:</span><span class="token string">&quot;&quot;</span><span class="token punctuation">)</span><span class="token operator">+</span><span class="token string">&quot;&gt;&quot;</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token function-variable function">end</span><span class="token operator">:</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">tag</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
              <span class="token comment">// \u7ED3\u675F\u6807\u7B7E</span>
              results<span class="token operator">+=</span><span class="token string">&quot;&lt;/&quot;</span><span class="token operator">+</span>tag<span class="token operator">+</span><span class="token string">&quot;&gt;&quot;</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token function-variable function">chars</span><span class="token operator">:</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">text</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
              <span class="token comment">// \u6807\u7B7E\u4E2D\u95F4\u90E8\u5206</span>
              results<span class="token operator">+=</span>text<span class="token punctuation">;</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token function-variable function">comment</span><span class="token operator">:</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">text</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
              <span class="token comment">// \u6CE8\u91CA\u90E8\u5206</span>
              results<span class="token operator">+=</span><span class="token string">&quot;&lt;!--&quot;</span><span class="token operator">+</span>text<span class="token operator">+</span><span class="token string">&quot;--&gt;&quot;</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
          <span class="token punctuation">}</span><span class="token punctuation">)</span>
          <span class="token keyword">return</span> results
        <span class="token punctuation">}</span><span class="token keyword">catch</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span><span class="token punctuation">{</span>
          console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span>
        <span class="token punctuation">}</span><span class="token keyword">finally</span><span class="token punctuation">{</span>

        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span>
    </span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">&gt;</span></span>&lt;%= title %&gt;<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>Welcome to &lt;%= title %&gt;<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>textarea</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token punctuation">&quot;</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>txt<span class="token punctuation">&quot;</span></span> <span class="token attr-name">cols</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>30<span class="token punctuation">&quot;</span></span> <span class="token attr-name">rows</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>10<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>sks <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>/1.jpg<span class="token punctuation">&quot;</span></span> <span class="token attr-name">alt</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token punctuation">&quot;</span></span> <span class="token special-attr"><span class="token attr-name">onerror</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token value javascript language-javascript"><span class="token function">alert</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span></span><span class="token punctuation">&quot;</span></span></span> <span class="token punctuation">/&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>textarea</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>btn<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>\u8BC4\u8BBA<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>get<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>\u83B7\u53D6\u8BC4\u8BBA<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
      <span class="token keyword">var</span> btn<span class="token operator">=</span>document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&quot;btn&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">var</span> get<span class="token operator">=</span>document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&quot;get&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">var</span> txt<span class="token operator">=</span>document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&quot;txt&quot;</span><span class="token punctuation">)</span>
      btn<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">&#39;click&#39;</span><span class="token punctuation">,</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">var</span> xhr<span class="token operator">=</span><span class="token keyword">new</span> <span class="token class-name">XMLHttpRequest</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">var</span> url<span class="token operator">=</span><span class="token string">&#39;/comment?comment=&#39;</span><span class="token operator">+</span>txt<span class="token punctuation">.</span>value<span class="token punctuation">;</span>
        xhr<span class="token punctuation">.</span><span class="token function">open</span><span class="token punctuation">(</span><span class="token string">&#39;GET&#39;</span><span class="token punctuation">,</span>url<span class="token punctuation">,</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        xhr<span class="token punctuation">.</span><span class="token function-variable function">onreadystatechange</span><span class="token operator">=</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
          <span class="token keyword">if</span><span class="token punctuation">(</span>xhr<span class="token punctuation">.</span>readyState<span class="token operator">===</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
            <span class="token keyword">if</span><span class="token punctuation">(</span>xhr<span class="token punctuation">.</span>status<span class="token operator">===</span><span class="token number">200</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
              console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>xhr<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span><span class="token keyword">else</span><span class="token punctuation">{</span>
              console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;error&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
          <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
        xhr<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      get<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">&#39;click&#39;</span><span class="token punctuation">,</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">var</span> xhr<span class="token operator">=</span><span class="token keyword">new</span> <span class="token class-name">XMLHttpRequest</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">var</span> url<span class="token operator">=</span><span class="token string">&#39;/getComment&#39;</span><span class="token punctuation">;</span>
        xhr<span class="token punctuation">.</span><span class="token function">open</span><span class="token punctuation">(</span><span class="token string">&#39;GET&#39;</span><span class="token punctuation">,</span>url<span class="token punctuation">,</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        xhr<span class="token punctuation">.</span><span class="token function-variable function">onreadystatechange</span><span class="token operator">=</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
          <span class="token keyword">if</span><span class="token punctuation">(</span>xhr<span class="token punctuation">.</span>readyState<span class="token operator">===</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
            <span class="token keyword">if</span><span class="token punctuation">(</span>xhr<span class="token punctuation">.</span>status<span class="token operator">===</span><span class="token number">200</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
              <span class="token keyword">var</span> com<span class="token operator">=</span><span class="token function">parse</span><span class="token punctuation">(</span><span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span>xhr<span class="token punctuation">.</span>response<span class="token punctuation">)</span><span class="token punctuation">.</span>comment<span class="token punctuation">)</span><span class="token punctuation">;</span>
              <span class="token comment">// var com=JSON.parse(xhr.response).comment;</span>
              console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>com<span class="token punctuation">)</span><span class="token punctuation">;</span>
              <span class="token keyword">var</span> txt<span class="token operator">=</span>document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">&#39;span&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
              txt<span class="token punctuation">.</span>innerHTML<span class="token operator">=</span>com<span class="token punctuation">;</span>
              document<span class="token punctuation">.</span>body<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>txt<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span><span class="token keyword">else</span><span class="token punctuation">{</span>
              console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;error&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
          <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
        xhr<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span>
    </span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>

  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// index.js</span>
<span class="token keyword">var</span> express <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;express&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> router <span class="token operator">=</span> express<span class="token punctuation">.</span><span class="token function">Router</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">var</span> comments<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token comment">// \u3010\u9632xss\u30111.\u5B57\u7B26\u8F6C\u4E49\uFF0C\u524D\u7AEF\u6216\u8005\u540E\u7AEF\u505A\u90FD\u53EF\u4EE5</span>
<span class="token keyword">function</span> <span class="token function">html_encode</span><span class="token punctuation">(</span><span class="token parameter">str</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token keyword">var</span> s<span class="token operator">=</span><span class="token string">&#39;&#39;</span><span class="token punctuation">;</span>
  <span class="token keyword">if</span><span class="token punctuation">(</span>str<span class="token punctuation">.</span>length<span class="token operator">==</span><span class="token number">0</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">;</span>
  s<span class="token operator">=</span>str<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">&amp;</span><span class="token regex-delimiter">/</span><span class="token regex-flags">g</span></span><span class="token punctuation">,</span><span class="token string">&quot;&amp;amp;&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  s<span class="token operator">=</span>s<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">&lt;</span><span class="token regex-delimiter">/</span><span class="token regex-flags">g</span></span><span class="token punctuation">,</span><span class="token string">&quot;&amp;lt;&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  s<span class="token operator">=</span>s<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">&gt;</span><span class="token regex-delimiter">/</span><span class="token regex-flags">g</span></span><span class="token punctuation">,</span><span class="token string">&quot;&amp;gt;&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  s<span class="token operator">=</span>s<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\\s</span><span class="token regex-delimiter">/</span><span class="token regex-flags">g</span></span><span class="token punctuation">,</span><span class="token string">&quot;&amp;nbsp;&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  s<span class="token operator">=</span>s<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\\&#39;</span><span class="token regex-delimiter">/</span><span class="token regex-flags">g</span></span><span class="token punctuation">,</span><span class="token string">&quot;&amp;#39;&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  s<span class="token operator">=</span>s<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\\&quot;</span><span class="token regex-delimiter">/</span><span class="token regex-flags">g</span></span><span class="token punctuation">,</span><span class="token string">&quot;&amp;quot;&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  s<span class="token operator">=</span>s<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\\n</span><span class="token regex-delimiter">/</span><span class="token regex-flags">g</span></span><span class="token punctuation">,</span><span class="token string">&quot;&lt;br/&gt;&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;s&#39;</span><span class="token punctuation">,</span>s<span class="token punctuation">)</span>
  <span class="token keyword">return</span> s<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">/* GET home page. */</span>
router<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">&#39;/&#39;</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">req<span class="token punctuation">,</span> res<span class="token punctuation">,</span> next</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  res<span class="token punctuation">.</span><span class="token function">render</span><span class="token punctuation">(</span><span class="token string">&#39;index&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> <span class="token literal-property property">title</span><span class="token operator">:</span> <span class="token string">&#39;Express&#39;</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

router<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">&#39;/comment&#39;</span><span class="token punctuation">,</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">req<span class="token punctuation">,</span>res<span class="token punctuation">,</span>next</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  comments<span class="token punctuation">.</span>v<span class="token operator">=</span><span class="token function">html_encode</span><span class="token punctuation">(</span>req<span class="token punctuation">.</span>query<span class="token punctuation">.</span>comment<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">// comments.v=req.query.comment;</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;\u63D2\u5165\u7684&#39;</span><span class="token punctuation">,</span>comments<span class="token punctuation">.</span>v<span class="token punctuation">)</span>
  
<span class="token punctuation">}</span><span class="token punctuation">)</span>

router<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">&#39;/getComment&#39;</span><span class="token punctuation">,</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">req<span class="token punctuation">,</span>res<span class="token punctuation">,</span>next</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>comments<span class="token punctuation">.</span>v<span class="token punctuation">)</span>
  res<span class="token punctuation">.</span><span class="token function">json</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token literal-property property">comment</span><span class="token operator">:</span>comments<span class="token punctuation">.</span>v
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> router<span class="token punctuation">;</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>CSP</li><li></li></ul><p>CSP \u672C\u8D28\u4E0A\u5C31\u662F\u5EFA\u7ACB\u767D\u540D\u5355\uFF0C\u5F00\u53D1\u8005\u660E\u786E\u544A\u8BC9\u6D4F\u89C8\u5668\u54EA\u4E9B\u5916\u90E8\u8D44\u6E90\u53EF\u4EE5\u52A0\u8F7D\u548C\u6267\u884C\u3002\u6211\u4EEC\u53EA\u9700\u8981\u914D\u7F6E\u89C4\u5219\uFF0C\u5982\u4F55\u62E6\u622A\u662F\u7531\u6D4F\u89C8\u5668\u81EA\u5DF1\u5B9E\u73B0\u7684\u3002\u6211\u4EEC\u53EF\u4EE5\u901A\u8FC7\u8FD9\u79CD\u65B9\u5F0F\u6765\u5C3D\u91CF\u51CF\u5C11 XSS \u653B\u51FB\u3002</p><p>\u901A\u5E38\u53EF\u4EE5\u901A\u8FC7\u4E24\u79CD\u65B9\u5F0F\u6765\u5F00\u542F CSP\uFF1A</p><ul><li>\u8BBE\u7F6E HTTP Header \u4E2D\u7684 Content-Security-Policy</li><li>\u8BBE\u7F6E meta \u6807\u7B7E\u7684\u65B9\u5F0F <meta http-equiv="Content-Security-Policy"></li></ul><p>\u8FD9\u91CC\u4EE5\u8BBE\u7F6E HTTP Header \u6765\u4E3E\u4F8B</p><p>\u53EA\u5141\u8BB8\u52A0\u8F7D\u672C\u7AD9\u8D44\u6E90</p><div class="language-http ext-http line-numbers-mode"><pre class="language-http"><code><span class="token header"><span class="token header-name keyword">Content-Security-Policy</span><span class="token punctuation">:</span> <span class="token header-value csp languages-csp">default-src \u2018self\u2019</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>\u53EA\u5141\u8BB8\u52A0\u8F7D HTTPS \u534F\u8BAE\u56FE\u7247</p><div class="language-http ext-http line-numbers-mode"><pre class="language-http"><code><span class="token header"><span class="token header-name keyword">Content-Security-Policy</span><span class="token punctuation">:</span> <span class="token header-value csp languages-csp">img-src https://*</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>\u5141\u8BB8\u52A0\u8F7D\u4EFB\u4F55\u6765\u6E90\u6846\u67B6</p><div class="language-http ext-http line-numbers-mode"><pre class="language-http"><code><span class="token header"><span class="token header-name keyword">Content-Security-Policy</span><span class="token punctuation">:</span> <span class="token header-value csp languages-csp">child-src &#39;none&#39;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>\u5F53\u7136\u53EF\u4EE5\u8BBE\u7F6E\u7684\u5C5E\u6027\u8FDC\u4E0D\u6B62\u8FD9\u4E9B\uFF0C\u4F60\u53EF\u4EE5\u901A\u8FC7\u67E5\u9605 \u6587\u6863 \u7684\u65B9\u5F0F\u6765\u5B66\u4E60\uFF0C\u8FD9\u91CC\u5C31\u4E0D\u8FC7\u591A\u8D58\u8FF0\u5176\u4ED6\u7684\u5C5E\u6027\u4E86\u3002</p><p>\u5BF9\u4E8E\u8FD9\u79CD\u65B9\u5F0F\u6765\u8BF4\uFF0C\u53EA\u8981\u5F00\u53D1\u8005\u914D\u7F6E\u4E86\u6B63\u786E\u7684\u89C4\u5219\uFF0C\u90A3\u4E48\u5373\u4F7F\u7F51\u7AD9\u5B58\u5728\u6F0F\u6D1E\uFF0C\u653B\u51FB\u8005\u4E5F\u4E0D\u80FD\u6267\u884C\u5B83\u7684\u653B\u51FB\u4EE3\u7801\uFF0C\u5E76\u4E14 CSP \u7684\u517C\u5BB9\u6027\u4E5F\u4E0D\u9519\u3002</p>`,15),ks=n("p",null,"CSRF",-1),ds=n("li",null,[s("\u57FA\u672C\u6982\u5FF5\u548C\u7F29\u5199 "),n("ul",null,[n("li",null,"Cross-site request forgery\uFF0C\u3010\u8BB0\u3011\u8DE8\u7AD9\u8BF7\u6C42\u4F2A\u9020")])],-1),vs=s("\u653B\u51FB\u539F\u7406 "),ms=["src"],gs=n("li",null,[s("\u9632\u5FA1\u63AA\u65BD "),n("ul",null,[n("li",null,"Token\u9A8C\u8BC1(\u94FE\u63A5\u81EA\u52A8\u643A\u5E26cookie\uFF0C\u4F46\u662F\u4E0D\u4F1A\u81EA\u52A8\u643A\u5E26token)"),n("li",null,"Referer\u9A8C\u8BC1(\u9875\u9762\u6765\u6E90\uFF0C\u5224\u65AD\u6765\u6E90\u662F\u5426\u662F\u672C\u7AD9\u70B9\u4E0B\u7684\u9875\u9762)"),n("li",null,"\u9690\u85CF\u4EE4\u724C(\u9690\u85CF\u5728http header\u5934\u4E2D)")])],-1),bs=n("li",null,[n("p",null,"XSS\u548CCSRF\u533A\u522B"),n("ul",null,[n("li",null,"XSS\u662F\u4E0A\u4F20\u8F93\u5165\u7684js\u811A\u672C\uFF0C\u5E76\u6267\u884C"),n("li",null,"CSRF\u662F\u9700\u8981\u7528\u6237\u5DF2\u767B\u5F55\uFF0C\u5E2E\u4F60\u81EA\u52A8\u6267\u884C\u63A5\u53E3")])],-1);function hs(u,fs){const o=i("RouterLink"),p=i("highlight-box"),l=i("mark-check"),e=i("underline-box"),r=i("ExternalLinkIcon");return d(),v("div",null,[g,n("nav",b,[n("ul",null,[n("li",null,[a(o,{to:"#http\u534F\u8BAE"},{default:t(()=>[h]),_:1}),n("ul",null,[n("li",null,[a(o,{to:"#udp\u548Ctcp"},{default:t(()=>[f]),_:1})])])]),n("li",null,[a(o,{to:"#\u9875\u9762\u52A0\u8F7D"},{default:t(()=>[_]),_:1}),n("ul",null,[n("li",null,[a(o,{to:"#\u6D4F\u89C8\u5668\u52A0\u8F7D\u8D44\u6E90\u7684\u8FC7\u7A0B"},{default:t(()=>[y]),_:1})]),n("li",null,[a(o,{to:"#\u4E3A\u4F55\u8981\u628A-css-\u653E\u5728-head-\u4E2D"},{default:t(()=>[w]),_:1})]),n("li",null,[a(o,{to:"#\u4E3A\u4F55\u8981\u628A-js-\u653E\u5728-body-\u6700\u540E"},{default:t(()=>[x]),_:1})]),n("li",null,[a(o,{to:"#window-onload\u548Cdomcontentloaded\u533A\u522B"},{default:t(()=>[q]),_:1})]),n("li",null,[a(o,{to:"#\u52A0\u8F7D\u8D44\u6E90\u4F18\u5316"},{default:t(()=>[a(p,null,{default:t(()=>[T]),_:1})]),_:1})]),n("li",null,[a(o,{to:"#\u6E32\u67D3\u4F18\u5316"},{default:t(()=>[a(p,null,{default:t(()=>[S]),_:1})]),_:1})]),n("li",null,[a(o,{to:"#\u8BE6\u7EC6\u89E3\u8BF4"},{default:t(()=>[j]),_:1})])])]),n("li",null,[a(o,{to:"#\u5B89\u5168\u6027"},{default:t(()=>[C]),_:1}),n("ul",null,[n("li",null,[a(o,{to:"#\u63A8\u8350\u4E66"},{default:t(()=>[E]),_:1})]),n("li",null,[a(o,{to:"#web-\u653B\u51FB\u65B9\u5F0F"},{default:t(()=>[L]),_:1})])])])])]),P,n("ul",null,[n("li",null,[M,a(l,{id:"post&get"})]),n("li",null,[a(p,null,{default:t(()=>[D]),_:1}),O,a(e,null,{default:t(()=>[I]),_:1}),R,a(e,null,{default:t(()=>[H]),_:1}),X,a(e,null,{default:t(()=>[N]),_:1}),U,a(e,null,{default:t(()=>[B]),_:1}),F,a(e,null,{default:t(()=>[G]),_:1}),W,a(e,null,{default:t(()=>[A]),_:1}),J]),z,n("li",null,[a(p,null,{default:t(()=>[V]),_:1}),Q,a(e,null,{default:t(()=>[K]),_:1}),Y]),n("li",null,[a(p,null,{default:t(()=>[Z]),_:1}),$,a(e,null,{default:t(()=>[nn]),_:1}),sn,a(e,null,{default:t(()=>[an]),_:1}),tn,a(e,null,{default:t(()=>[pn]),_:1}),en,a(e,null,{default:t(()=>[on]),_:1}),cn,a(e,null,{default:t(()=>[ln]),_:1}),un,a(e,null,{default:t(()=>[rn]),_:1}),kn,a(e,null,{default:t(()=>[dn]),_:1}),vn])]),mn,a(l,{id:"jiazaiziyuan"}),gn,bn,a(l,{id:"url2html"}),hn,fn,a(l,{id:"yemianxuanran"}),_n,a(l,{id:"onloadDomContentLoaded"}),yn,a(l,{id:"xingnengyouhua"}),wn,n("h3",xn,[qn,Tn,a(p,null,{default:t(()=>[Sn]),_:1})]),jn,n("h3",Cn,[En,Ln,a(p,null,{default:t(()=>[Pn]),_:1})]),Mn,a(l,{id:"fangdoujieliu"}),Dn,n("ul",null,[On,n("li",null,[a(p,null,{default:t(()=>[In]),_:1}),Rn,a(p,null,{default:t(()=>[Hn]),_:1}),Xn])]),Nn,n("ul",null,[n("li",null,[a(p,null,{default:t(()=>[Un]),_:1}),Bn,a(p,null,{default:t(()=>[Fn]),_:1}),Gn])]),Wn,a(l,{id:"fangdoujieliuyingyong"}),An,n("ul",null,[Jn,n("li",null,[zn,a(l,{id:"xssfangyu"}),Vn,Qn,Kn,n("ol",null,[n("li",null,[a(p,null,{default:t(()=>[Yn]),_:1})])]),Zn,n("div",$n,[ns,ss,as,n("p",null,[n("a",ts,[ps,a(r)])])]),n("ol",null,[n("li",null,[a(p,null,{default:t(()=>[es]),_:1})])]),os,n("ol",cs,[n("li",null,[a(p,null,{default:t(()=>[ls]),_:1})])]),is,us])]),rs,n("ul",null,[n("li",null,[ks,n("ul",null,[ds,n("li",null,[vs,n("ul",null,[n("li",null,[n("img",{src:u.$withBase("/img/\u653B\u51FB\u539F\u7406.jpg")},null,8,ms)])])]),gs])]),bs])])}var ys=k(m,[["render",hs],["__file","index.html.vue"]]);export{ys as default};
